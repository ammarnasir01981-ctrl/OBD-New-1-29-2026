<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ø®ØªØ¨Ø± OBD - Ø¥Ø´Ø±Ø§Ù: Ø§Ù„Ø¨Ø§Ø­Ø« Ammar Nasir Hussein al-mantafji</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #0a0a2a 0%, #1a1a3a 50%, #0a0a2a 100%);
            color: #f0f0f0;
            min-height: 100vh;
            padding: 20px;
            line-height: 1.8;
            overflow-x: hidden;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
            background: rgba(10, 15, 35, 0.95);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 0 60px rgba(0, 100, 255, 0.3);
            border: 1px solid rgba(0, 100, 255, 0.4);
        }

        /* Ø±Ø£Ø³ Ø§Ù„Ù…Ø®ØªØ¨Ø± Ù…Ø¹ Ø§Ù„Ø¨Ø§Ø­Ø« */
        .lab-header {
            text-align: center;
            padding: 40px 0;
            border-bottom: 3px solid rgba(0, 100, 255, 0.6);
            margin-bottom: 40px;
            background: linear-gradient(90deg, 
                rgba(0, 50, 150, 0.4), 
                rgba(0, 100, 255, 0.2),
                rgba(0, 50, 150, 0.4));
            border-radius: 15px;
            position: relative;
            overflow: hidden;
        }

        .researcher-badge {
            position: absolute;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, #0066ff, #0044cc);
            padding: 10px 20px;
            border-radius: 25px;
            font-size: 1rem;
            color: white;
            font-weight: 600;
            border: 2px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 5px 20px rgba(0, 102, 255, 0.3);
            z-index: 3;
        }

        .research-title {
            font-size: 2.8rem;
            background: linear-gradient(135deg, #4bcffa, #00a8ff, #0066ff);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            margin-bottom: 15px;
            font-weight: 900;
            text-shadow: 0 2px 10px rgba(75, 207, 250, 0.3);
        }

        .lab-subtitle {
            font-size: 1.5rem;
            color: #a0e7ff;
            margin-bottom: 10px;
            font-weight: 300;
        }

        .researcher-info {
            font-size: 1.6rem;
            color: #00ffaa;
            margin-bottom: 10px;
            font-weight: bold;
        }

        .researcher-title {
            font-size: 1.2rem;
            color: #7bd5ff;
            font-style: italic;
            margin-bottom: 20px;
        }

        .lab-badge {
            position: absolute;
            top: 20px;
            left: 20px;
            background: linear-gradient(135deg, #ff6b6b, #ee5a52);
            padding: 10px 20px;
            border-radius: 25px;
            font-size: 0.9rem;
            color: white;
            font-weight: 600;
            border: 2px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 5px 20px rgba(255, 107, 107, 0.3);
            z-index: 3;
        }

        .ai-lab-badge {
            position: absolute;
            bottom: 20px;
            left: 20px;
            background: linear-gradient(135deg, #1dd1a1, #10ac84);
            padding: 10px 20px;
            border-radius: 25px;
            font-size: 0.9rem;
            color: white;
            font-weight: 600;
            border: 2px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 5px 20px rgba(29, 209, 161, 0.3);
            z-index: 3;
        }

        .system-badge {
            position: absolute;
            bottom: 20px;
            right: 20px;
            background: linear-gradient(135deg, #9b59b6, #8e44ad);
            padding: 10px 20px;
            border-radius: 25px;
            font-size: 0.9rem;
            color: white;
            font-weight: 600;
            border: 2px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 5px 20px rgba(155, 89, 182, 0.3);
            z-index: 3;
        }

        .research-description {
            max-width: 800px;
            margin: 20px auto;
            color: #c7ecee;
            font-size: 1.1rem;
            line-height: 1.8;
            padding: 20px;
            background: rgba(0, 30, 80, 0.3);
            border-radius: 10px;
            border: 1px solid rgba(0, 100, 255, 0.2);
        }

        /* Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø®ØªØ¨Ø± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ */
        .lab-system {
            display: grid;
            grid-template-columns: 1fr 1.5fr;
            gap: 30px;
            margin: 40px 0;
            min-height: 700px;
        }

        @media (max-width: 1200px) {
            .lab-system {
                grid-template-columns: 1fr;
            }
        }

        .lab-control-panel, .lab-visualization {
            background: rgba(0, 20, 60, 0.7);
            border-radius: 15px;
            padding: 25px;
            border: 2px solid rgba(0, 100, 255, 0.3);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.4);
        }

        .section-title {
            color: #00a8ff;
            font-size: 1.8rem;
            margin-bottom: 25px;
            padding-bottom: 10px;
            border-bottom: 2px solid rgba(0, 100, 255, 0.3);
            text-align: center;
        }

        .subsection-title {
            color: #4bcffa;
            font-size: 1.4rem;
            margin: 25px 0 15px 0;
            padding-right: 15px;
            border-right: 3px solid #4bcffa;
        }

        /* Ù…Ø¹Ø¯Ø§Øª Ø§Ù„Ù…Ø®ØªØ¨Ø± */
        .lab-equipment {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin: 25px 0;
        }

        .equipment-card {
            background: rgba(0, 30, 80, 0.6);
            border-radius: 10px;
            padding: 20px;
            border: 1px solid rgba(0, 100, 255, 0.2);
            transition: all 0.3s ease;
            cursor: pointer;
            text-align: center;
        }

        .equipment-card:hover {
            transform: translateY(-5px);
            border-color: rgba(0, 100, 255, 0.5);
            box-shadow: 0 10px 25px rgba(0, 100, 255, 0.2);
        }

        .equipment-icon {
            font-size: 2.5rem;
            color: #00a8ff;
            margin-bottom: 15px;
        }

        .equipment-name {
            color: #4bcffa;
            font-size: 1.1rem;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .equipment-status {
            font-size: 0.9rem;
            color: #2ecc71;
            font-weight: 500;
        }

        .equipment-status.offline {
            color: #e74c3c;
        }

        /* Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„ØªØ¬Ø±Ø¨Ø© */
        .experiment-procedures {
            background: rgba(0, 30, 80, 0.5);
            border-radius: 10px;
            padding: 25px;
            margin: 25px 0;
            border: 1px solid rgba(0, 100, 255, 0.2);
        }

        .procedure-step {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
            padding: 15px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            border: 1px solid rgba(0, 100, 255, 0.1);
        }

        .step-number {
            background: linear-gradient(135deg, #00a8ff, #0066ff);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2rem;
        }

        .step-content {
            flex: 1;
        }

        .step-title {
            color: #4bcffa;
            font-size: 1.1rem;
            margin-bottom: 5px;
        }

        .step-description {
            color: #c7ecee;
            font-size: 0.95rem;
        }

        /* Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª */
        .parameter-controls {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin: 25px 0;
        }

        .parameter-group {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 20px;
            border: 1px solid rgba(0, 100, 255, 0.2);
        }

        .param-label {
            display: block;
            color: #4bcffa;
            margin-bottom: 12px;
            font-size: 1.1rem;
            font-weight: 500;
        }

        .slider-container {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        input[type="range"] {
            flex: 1;
            height: 10px;
            -webkit-appearance: none;
            background: linear-gradient(90deg, 
                rgba(0, 100, 255, 0.3), 
                rgba(0, 100, 255, 0.6));
            border-radius: 5px;
            outline: none;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 22px;
            height: 22px;
            background: #00a8ff;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 0 15px rgba(0, 168, 255, 0.7);
            border: 3px solid white;
        }

        .param-value {
            min-width: 70px;
            text-align: center;
            background: rgba(0, 100, 255, 0.2);
            padding: 8px 15px;
            border-radius: 8px;
            color: #00a8ff;
            font-weight: bold;
            font-size: 1.1rem;
            border: 1px solid rgba(0, 100, 255, 0.3);
            font-family: monospace;
        }

        /* Ø§Ù„ØªØµÙˆØ± Ø§Ù„Ù…Ø±Ø¦ÙŠ Ù„Ù„Ù…Ø®ØªØ¨Ø± */
        .lab-visual {
            position: relative;
            height: 400px;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 10px;
            margin: 20px 0;
            overflow: hidden;
            border: 2px solid rgba(0, 100, 255, 0.2);
        }

        .laser-beam {
            position: absolute;
            left: 50px;
            top: 50%;
            width: 300px;
            height: 3px;
            background: linear-gradient(90deg, 
                rgba(255, 0, 0, 0), 
                rgba(255, 0, 0, 0.8),
                rgba(255, 0, 0, 0));
            box-shadow: 0 0 20px rgba(255, 0, 0, 0.5);
            transform-origin: left center;
            transition: all 1s ease;
        }

        .bulk-medium {
            position: absolute;
            left: 400px;
            top: 100px;
            width: 300px;
            height: 200px;
            background: radial-gradient(circle, 
                rgba(0, 100, 255, 0.1),
                rgba(0, 50, 150, 0.3),
                rgba(0, 20, 60, 0.5));
            border-radius: 10px;
            border: 2px solid rgba(0, 100, 255, 0.3);
            transition: all 0.5s ease;
        }

        .boundary-sensor {
            position: absolute;
            right: 50px;
            top: 150px;
            width: 200px;
            height: 100px;
            background: linear-gradient(135deg, 
                rgba(46, 204, 113, 0.2),
                rgba(39, 174, 96, 0.3));
            border-radius: 10px;
            border: 2px solid rgba(46, 204, 113, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            color: #2ecc71;
            font-weight: bold;
        }

        .data-stream {
            position: absolute;
            top: 20px;
            left: 20px;
            width: calc(100% - 40px);
            height: 80px;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 8px;
            border: 1px solid rgba(0, 100, 255, 0.3);
            padding: 10px;
            font-family: monospace;
            color: #00ffaa;
            font-size: 0.9rem;
            overflow: hidden;
        }

        /* Ù†ØªØ§Ø¦Ø¬ Ø§Ù„ØªØ¬Ø±Ø¨Ø© */
        .experiment-results {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin: 25px 0;
        }

        .result-metric {
            background: rgba(0, 30, 80, 0.6);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            border: 1px solid rgba(0, 100, 255, 0.2);
            transition: all 0.3s ease;
        }

        .result-metric:hover {
            transform: translateY(-5px);
            border-color: rgba(0, 100, 255, 0.5);
            box-shadow: 0 10px 25px rgba(0, 100, 255, 0.2);
        }

        .metric-name {
            color: #4bcffa;
            font-size: 1rem;
            margin-bottom: 10px;
        }

        .metric-value {
            color: #00ffaa;
            font-size: 1.8rem;
            font-weight: bold;
            font-family: monospace;
        }

        .metric-unit {
            color: #7bd5ff;
            font-size: 0.9rem;
            margin-top: 5px;
        }

        /* Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… */
        .control-buttons {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin: 30px 0;
        }

        .control-btn {
            background: linear-gradient(135deg, #00a8ff, #0066ff);
            color: white;
            border: none;
            padding: 18px;
            border-radius: 10px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            box-shadow: 0 5px 20px rgba(0, 168, 255, 0.2);
        }

        .control-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 168, 255, 0.4);
        }

        .control-btn.secondary {
            background: linear-gradient(135deg, #ff6b6b, #ee5a52);
        }

        .control-btn.success {
            background: linear-gradient(135deg, #1dd1a1, #10ac84);
        }

        .control-btn.warning {
            background: linear-gradient(135deg, #f39c12, #e67e22);
        }

        /* Ù„ÙˆØ­Ø© Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ */
        .ai-analysis-panel {
            background: linear-gradient(135deg, 
                rgba(20, 40, 100, 0.8),
                rgba(10, 30, 80, 0.9));
            border-radius: 15px;
            padding: 30px;
            margin: 40px 0;
            border: 2px solid rgba(155, 89, 182, 0.3);
            box-shadow: 0 10px 40px rgba(155, 89, 182, 0.2);
        }

        .ai-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid rgba(155, 89, 182, 0.3);
        }

        .ai-icon {
            font-size: 2rem;
            color: #9b59b6;
        }

        .ai-title {
            color: #9b59b6;
            font-size: 1.8rem;
            font-weight: 600;
        }

        .analysis-content {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 25px;
            margin: 20px 0;
            border: 1px solid rgba(155, 89, 182, 0.2);
            min-height: 200px;
            max-height: 400px;
            overflow-y: auto;
        }

        .analysis-message {
            margin-bottom: 15px;
            padding: 15px;
            border-radius: 8px;
            animation: messageAppear 0.5s ease;
        }

        @keyframes messageAppear {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .message-ai {
            background: rgba(155, 89, 182, 0.2);
            border: 1px solid rgba(155, 89, 182, 0.3);
            margin-right: auto;
            margin-left: 0;
            max-width: 85%;
        }

        .message-user {
            background: rgba(0, 100, 255, 0.2);
            border: 1px solid rgba(0, 100, 255, 0.3);
            margin-left: auto;
            margin-right: 0;
            max-width: 85%;
        }

        .message-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .ai-message-header {
            color: #9b59b6;
        }

        .user-message-header {
            color: #00a8ff;
        }

        .typing-indicator {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 15px;
            background: rgba(155, 89, 182, 0.2);
            border-radius: 10px;
            width: fit-content;
            border: 1px solid rgba(155, 89, 182, 0.3);
        }

        .typing-dot {
            width: 10px;
            height: 10px;
            background: #9b59b6;
            border-radius: 50%;
            animation: typing 1.4s infinite;
        }

        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }

        @keyframes typing {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .ai-suggestions {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 25px;
        }

        .suggestion-btn {
            background: rgba(155, 89, 182, 0.2);
            border: 1px solid rgba(155, 89, 182, 0.3);
            color: #d2b4de;
            padding: 12px;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .suggestion-btn:hover {
            background: rgba(155, 89, 182, 0.3);
            transform: translateY(-3px);
        }

        /* Ø´Ø§Ø´Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(10, 15, 35, 0.95);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .loading-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .lab-spinner {
            width: 80px;
            height: 80px;
            border: 5px solid rgba(0, 100, 255, 0.3);
            border-top: 5px solid #00a8ff;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 30px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .loading-text {
            color: #00a8ff;
            font-size: 1.5rem;
            font-weight: 600;
        }

        /* ØªØ°ÙŠÙŠÙ„ Ø§Ù„ØµÙØ­Ø© */
        .footer {
            text-align: center;
            margin-top: 50px;
            padding-top: 30px;
            border-top: 2px solid rgba(0, 100, 255, 0.3);
            color: #7bd5ff;
            font-size: 0.95rem;
        }

        .researcher-signature {
            margin-top: 20px;
            padding: 20px;
            background: rgba(0, 30, 80, 0.3);
            border-radius: 10px;
            border: 1px solid rgba(0, 100, 255, 0.2);
        }

        .signature-text {
            color: #00ffaa;
            font-size: 1.1rem;
            font-weight: 600;
        }

        .researcher-name-footer {
            color: #00a8ff;
            font-size: 1.3rem;
            font-weight: bold;
            margin-top: 10px;
        }

        @media (max-width: 768px) {
            .lab-system {
                grid-template-columns: 1fr;
            }
            
            .parameter-controls,
            .experiment-results,
            .control-buttons,
            .ai-suggestions {
                grid-template-columns: 1fr;
            }
            
            .research-title {
                font-size: 2rem;
            }
            
            .researcher-info {
                font-size: 1.3rem;
            }
        }
    </style>
</head>
<body>
    <!-- Ø´Ø§Ø´Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ -->
    <div class="loading-overlay" id="loading-overlay">
        <div class="lab-spinner"></div>
        <div class="loading-text" id="loading-text">Ø¬Ø§Ø±ÙŠ Ø¥Ø¹Ø¯Ø§Ø¯ Ù…Ø®ØªØ¨Ø± OBD...</div>
    </div>

    <div class="container">
        <!-- Ø±Ø£Ø³ Ø§Ù„Ù…Ø®ØªØ¨Ø± -->
        <div class="lab-header">
            <div class="researcher-badge">
                <i class="fas fa-user-tie"></i> Ø¨Ø§Ø­Ø« Ø±Ø¦ÙŠØ³ÙŠ
            </div>
            <div class="lab-badge">
                <i class="fas fa-flask"></i> Ù…Ø®ØªØ¨Ø± OBD ØªØ¬Ø±ÙŠØ¨ÙŠ
            </div>
            <div class="ai-lab-badge">
                <i class="fas fa-robot"></i> Ù…Ø¯Ø¹ÙˆÙ… Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
            </div>
            <div class="system-badge">
                <i class="fas fa-atom"></i> Ù†Ø¸Ø§Ù… ÙƒÙ…ÙŠ Ù…ØªÙ‚Ø¯Ù…
            </div>
            
            <h1 class="research-title">Ù…Ø®ØªØ¨Ø± Observable Boundary Dynamics (OBD)</h1>
            <p class="lab-subtitle">Ù†Ø¸Ø§Ù… Ù…Ø­Ø§ÙƒØ§Ø© Ù…ØªÙ‚Ø¯Ù… Ù„Ù„Ø¨Ø­Ø« Ø§Ù„Ø¹Ù„Ù…ÙŠ Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ</p>
            
            <div class="researcher-info">Ø¥Ø´Ø±Ø§Ù: Ø§Ù„Ø¨Ø§Ø­Ø«</div>
            <div class="researcher-title">Ammar Nasir Hussein al-mantafji</div>
            
            <div class="research-description">
                Ù…Ø®ØªØ¨Ø± OBD Ù‡Ùˆ Ù†Ø¸Ø§Ù… Ù…Ø­Ø§ÙƒØ§Ø© Ù…ØªÙ‚Ø¯Ù… ÙŠØ·Ø¨Ù‚ Ø£Ø¨Ø­Ø§Ø« Observable Boundary Dynamics Ø§Ù„ØªÙŠ ØªØ¯Ø±Ø³ Ø§Ù†ØªÙ‚Ø§Ù„ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª 
                Ù…Ù† "Ø§Ù„Ø¯Ø§Ø®Ù„" (Bulk) Ø¥Ù„Ù‰ "Ø§Ù„Ø­Ø¯ÙˆØ¯" (Boundary) ÙÙŠ Ø§Ù„Ø£Ù†Ø¸Ù…Ø© Ø§Ù„Ù‡ÙˆÙ„ÙˆØºØ±Ø§ÙÙŠØ©. Ù‡Ø°Ø§ Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØ¯Ù…Ø¬ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ 
                Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ ÙˆÙ…Ù‚Ø§Ø±Ù†ØªÙ‡Ø§ Ø¨Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠ Ø§Ù„Ø£ØµÙ„ÙŠ.
            </div>
        </div>

        <!-- Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø®ØªØ¨Ø± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ -->
        <div class="lab-system">
            <!-- Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… -->
            <div class="lab-control-panel">
                <h2 class="section-title"><i class="fas fa-sliders-h"></i> Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø®ØªØ¨Ø±</h2>
                
                <h3 class="subsection-title"><i class="fas fa-microscope"></i> Ù…Ø¹Ø¯Ø§Øª Ø§Ù„Ù…Ø®ØªØ¨Ø±</h3>
                <div class="lab-equipment">
                    <div class="equipment-card" id="laser-equipment">
                        <div class="equipment-icon">
                            <i class="fas fa-satellite-dish"></i>
                        </div>
                        <div class="equipment-name">Ù…ØµØ¯Ø± Ù„ÙŠØ²Ø± Ù…ØªÙ…Ø§Ø³Ùƒ</div>
                        <div class="equipment-status" id="laser-status">ğŸŸ¢ Ø¬Ø§Ù‡Ø²</div>
                    </div>
                    
                    <div class="equipment-card" id="scrambler-equipment">
                        <div class="equipment-icon">
                            <i class="fas fa-cube"></i>
                        </div>
                        <div class="equipment-name">ÙˆØ³Ø· Ø§Ù„ØªØ´ØªÙŠØª (Bulk)</div>
                        <div class="equipment-status" id="scrambler-status">ğŸŸ¢ Ù†Ø´Ø·</div>
                    </div>
                    
                    <div class="equipment-card" id="sensor-equipment">
                        <div class="equipment-icon">
                            <i class="fas fa-satellite"></i>
                        </div>
                        <div class="equipment-name">Ù…Ø³ØªØ´Ø¹Ø± Ø§Ù„Ø­Ø¯ÙˆØ¯</div>
                        <div class="equipment-status" id="sensor-status">ğŸŸ¢ ÙŠØ¹Ù…Ù„</div>
                    </div>
                    
                    <div class="equipment-card" id="ai-processor">
                        <div class="equipment-icon">
                            <i class="fas fa-brain"></i>
                        </div>
                        <div class="equipment-name">Ù…Ø¹Ø§Ù„Ø¬ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</div>
                        <div class="equipment-status" id="ai-status">ğŸŸ¢ Ù…ØªØµÙ„</div>
                    </div>
                </div>

                <!-- Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„ØªØ¬Ø±Ø¨Ø© -->
                <h3 class="subsection-title"><i class="fas fa-vial"></i> Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„ØªØ¬Ø±Ø¨Ø©</h3>
                <div class="experiment-procedures">
                    <div class="procedure-step" id="step-1">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <div class="step-title">Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¹ÙŠÙ†Ø©</div>
                            <div class="step-description">ØªØ­Ø¶ÙŠØ± ÙˆØ³Ø· Ø§Ù„ØªØ´ØªÙŠØª Ø¹Ø§Ù„ÙŠ Ø§Ù„Ø¥Ù†ØªØ±ÙˆØ¨ÙŠØ§</div>
                        </div>
                    </div>
                    
                    <div class="procedure-step" id="step-2">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <div class="step-title">Ø­Ù‚Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</div>
                            <div class="step-description">ØªØ±Ù…ÙŠØ² Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª ÙÙŠ Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„ÙƒÙ…ÙˆÙ…ÙŠØ© Ø§Ù„Ø£ÙˆÙ„ÙŠØ©</div>
                        </div>
                    </div>
                    
                    <div class="procedure-step" id="step-3">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <div class="step-title">Ø§Ù„ØªØ´ØªÙŠØª Ø§Ù„ÙˆØ­Ø¯ÙˆÙŠ</div>
                            <div class="step-description">ØªÙØ¹ÙŠÙ„ Ù…ØµÙÙˆÙØ© Ø§Ù„ØªØ´ØªÙŠØª U(t)</div>
                        </div>
                    </div>
                    
                    <div class="procedure-step" id="step-4">
                        <div class="step-number">4</div>
                        <div class="step-content">
                            <div class="step-title">Ø§Ù„Ø§Ø³ØªØ´Ø¹Ø§Ø± ÙˆØ§Ù„ØªØ­Ù„ÙŠÙ„</div>
                            <div class="step-description">Ù‚Ø±Ø§Ø¡Ø© Ø£Ù†Ù…Ø§Ø· Ø§Ù„ØªØ¯Ø§Ø®Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ø­Ø¯ÙˆØ¯</div>
                        </div>
                    </div>
                </div>

                <!-- Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ø§Ù„ØªØ¬Ø±Ø¨Ø© -->
                <h3 class="subsection-title"><i class="fas fa-tachometer-alt"></i> Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ø§Ù„ØªØ¬Ø±Ø¨Ø©</h3>
                <div class="parameter-controls">
                    <div class="parameter-group">
                        <label class="param-label">Ø´Ø¯Ø© Ø§Ù„Ù„ÙŠØ²Ø± (mW)</label>
                        <div class="slider-container">
                            <input type="range" id="laser-power" min="1" max="100" value="50">
                            <span class="param-value" id="laser-power-value">50</span>
                        </div>
                    </div>
                    
                    <div class="parameter-group">
                        <label class="param-label">Ø¥Ù†ØªØ±ÙˆØ¨ÙŠØ§ Ø§Ù„ÙˆØ³Ø·</label>
                        <div class="slider-container">
                            <input type="range" id="medium-entropy" min="1" max="100" value="75">
                            <span class="param-value" id="entropy-value">75</span>
                        </div>
                    </div>
                    
                    <div class="parameter-group">
                        <label class="param-label">Ø²Ù…Ù† Ø§Ù„ØªØ´ØªÙŠØª (ms)</label>
                        <div class="slider-container">
                            <input type="range" id="scramble-time" min="1" max="1000" value="500">
                            <span class="param-value" id="time-value">500</span>
                        </div>
                    </div>
                    
                    <div class="parameter-group">
                        <label class="param-label">Ø¶ÙˆØ¶Ø§Ø¡ Ø§Ù„Ù…Ø­ÙŠØ· (dB)</label>
                        <div class="slider-container">
                            <input type="range" id="noise-level" min="0" max="100" value="25">
                            <span class="param-value" id="noise-value">25</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Ø§Ù„ØªØµÙˆØ± Ø§Ù„Ù…Ø±Ø¦ÙŠ ÙˆØ§Ù„Ù†ØªØ§Ø¦Ø¬ -->
            <div class="lab-visualization">
                <h2 class="section-title"><i class="fas fa-chart-line"></i> Ø§Ù„ØªØµÙˆØ± Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ</h2>
                
                <!-- Ø§Ù„ØªØµÙˆØ± Ø§Ù„Ù…Ø±Ø¦ÙŠ Ù„Ù„Ù…Ø®ØªØ¨Ø± -->
                <div class="lab-visual">
                    <div class="laser-beam" id="laser-beam"></div>
                    <div class="bulk-medium" id="bulk-medium"></div>
                    <div class="boundary-sensor" id="boundary-sensor">
                        <i class="fas fa-wifi"></i> Ù…Ø³ØªØ´Ø¹Ø± Ø§Ù„Ø­Ø¯ÙˆØ¯
                    </div>
                    <div class="data-stream" id="data-stream">
                        <div>ğŸ“Š ØªÙŠØ§Ø± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­ÙŠ:</div>
                        <div id="stream-content">Ø¬Ø§Ø±ÙŠ Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...</div>
                    </div>
                </div>

                <!-- Ù†ØªØ§Ø¦Ø¬ Ø§Ù„ØªØ¬Ø±Ø¨Ø© -->
                <h3 class="subsection-title"><i class="fas fa-clipboard-list"></i> Ù‚ÙŠØ§Ø³Ø§Øª Ø§Ù„Ù†ØªØ§Ø¦Ø¬</h3>
                <div class="experiment-results">
                    <div class="result-metric">
                        <div class="metric-name">Ø±Ø¤ÙŠØ© Ø§Ù„Ø¯Ø§Ø®Ù„</div>
                        <div class="metric-value" id="bulk-visibility">4.2</div>
                        <div class="metric-unit">%</div>
                    </div>
                    
                    <div class="result-metric">
                        <div class="metric-name">Ø§Ø±ØªØ¨Ø§Ø· Ø§Ù„Ø­Ø¯ÙˆØ¯</div>
                        <div class="metric-value" id="boundary-correlation">0.98</div>
                        <div class="metric-unit">Ù…Ø¹Ø§Ù…Ù„</div>
                    </div>
                    
                    <div class="result-metric">
                        <div class="metric-name">Ø¯Ù‚Ø© Ø§Ù„Ø§Ø³ØªØ±Ø¯Ø§Ø¯</div>
                        <div class="metric-value" id="recovery-fidelity">99.1</div>
                        <div class="metric-unit">%</div>
                    </div>
                    
                    <div class="result-metric">
                        <div class="metric-name">Ø£Ø³ Ù„ÙŠØ§Ø¨Ø§Ù†ÙˆÙ</div>
                        <div class="metric-value" id="lyapunov-exponent">0.42</div>
                        <div class="metric-unit">Î»<sub>L</sub></div>
                    </div>
                </div>

                <!-- Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… -->
                <div class="control-buttons">
                    <button class="control-btn success" onclick="runExperiment()">
                        <i class="fas fa-play-circle"></i> ØªØ´ØºÙŠÙ„ Ø§Ù„ØªØ¬Ø±Ø¨Ø©
                    </button>
                    
                    <button class="control-btn" onclick="analyzeResults()">
                        <i class="fas fa-brain"></i> ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù†ØªØ§Ø¦Ø¬
                    </button>
                    
                    <button class="control-btn warning" onclick="generateReport()">
                        <i class="fas fa-file-alt"></i> ØªÙ‚Ø±ÙŠØ± Ù…ÙØµÙ„
                    </button>
                    
                    <button class="control-btn secondary" onclick="resetExperiment()">
                        <i class="fas fa-redo"></i> Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ†
                    </button>
                </div>
            </div>
        </div>

        <!-- Ù„ÙˆØ­Ø© ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ -->
        <div class="ai-analysis-panel">
            <div class="ai-header">
                <i class="fas fa-robot ai-icon"></i>
                <h2 class="ai-title">Ù…Ø­Ù„Ù„ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ù„Ù„Ù…Ø®ØªØ¨Ø±</h2>
            </div>
            
            <div class="analysis-content" id="ai-analysis-content">
                <div class="analysis-message message-ai">
                    <div class="message-header ai-message-header">
                        <i class="fas fa-robot"></i> Ù…Ø³Ø§Ø¹Ø¯ OBD
                    </div>
                    <div class="message-content">
                        Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù…Ø®ØªØ¨Ø± OBD Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ! Ø£Ù†Ø§ Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ø§Ù„Ù…ØªØ®ØµØµ ÙÙŠ ØªØ­Ù„ÙŠÙ„ Ù†ØªØ§Ø¦Ø¬ ØªØ¬Ø§Ø±Ø¨ Observable Boundary Dynamics.
                        <br><br>
                        ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ ÙÙŠ:
                        <br>â€¢ ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù‚ÙŠØ§Ø³Ø§Øª Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠØ©
                        <br>â€¢ ØªÙØ³ÙŠØ± Ø§Ù„Ù†ØªØ§Ø¦Ø¬ ÙˆÙÙ‚ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ù†Ø¸Ø±ÙŠ
                        <br>â€¢ Ø§Ù‚ØªØ±Ø§Ø­ ØªØ­Ø³ÙŠÙ†Ø§Øª Ù„Ù„ØªØ¬Ø±Ø¨Ø©
                        <br>â€¢ ÙƒØªØ§Ø¨Ø© ØªÙ‚Ø§Ø±ÙŠØ± Ø¹Ù„Ù…ÙŠØ© Ù…ÙØµÙ„Ø©
                        <br><br>
                        ØªÙ… ØªØ·ÙˆÙŠØ± Ù‡Ø°Ø§ Ø§Ù„Ù†Ø¸Ø§Ù… ØªØ­Øª Ø¥Ø´Ø±Ø§Ù Ø§Ù„Ø¨Ø§Ø­Ø« Ammar Nasir Hussein al-mantafji.
                    </div>
                </div>
            </div>

            <!-- Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ø³Ø±ÙŠØ¹Ø© -->
            <div class="ai-suggestions">
                <div class="suggestion-btn" onclick="askAI('Ø­Ù„Ù„ Ù†ØªØ§Ø¦Ø¬ Ø§Ù„ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ© ÙˆÙÙ‚ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ù†Ø¸Ø±ÙŠ OBD')">
                    ğŸ“Š ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø­Ø§Ù„ÙŠØ©
                </div>
                <div class="suggestion-btn" onclick="askAI('Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ø¹ÙˆØ§Ù…Ù„ Ø§Ù„Ù…Ø¤Ø«Ø±Ø© Ø¹Ù„Ù‰ Ø£Ø³ Ù„ÙŠØ§Ø¨Ø§Ù†ÙˆÙ ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„ØªØ¬Ø±Ø¨Ø©ØŸ')">
                    ğŸ”¬ ØªÙØ³ÙŠØ± Ø£Ø³ Ù„ÙŠØ§Ø¨Ø§Ù†ÙˆÙ
                </div>
                <div class="suggestion-btn" onclick="askAI('Ø§Ù‚ØªØ±Ø­ ØªØ­Ø³ÙŠÙ†Ø§Øª Ù„Ø²ÙŠØ§Ø¯Ø© Ø¯Ù‚Ø© Ø§Ù„Ø§Ø³ØªØ±Ø¯Ø§Ø¯')">
                    âš¡ Ø§Ù‚ØªØ±Ø§Ø­ ØªØ­Ø³ÙŠÙ†Ø§Øª
                </div>
                <div class="suggestion-btn" onclick="askAI('Ù‚Ø§Ø±Ù† Ø¨ÙŠÙ† Ù‡Ø°Ù‡ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ ÙˆØ§Ù„Ù†ØªØ§Ø¦Ø¬ ÙÙŠ Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø£ØµÙ„ÙŠ')">
                    ğŸ“ˆ Ù…Ù‚Ø§Ø±Ù†Ø© Ù…Ø¹ Ø§Ù„Ø¨Ø­Ø«
                </div>
            </div>
        </div>

        <!-- ØªØ°ÙŠÙŠÙ„ Ø§Ù„ØµÙØ­Ø© -->
        <div class="footer">
            <div class="researcher-signature">
                <div class="signature-text">ØªÙ… ØªØ·ÙˆÙŠØ± Ù‡Ø°Ø§ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø¨Ø­Ø«ÙŠ Ø§Ù„Ù…ØªÙ‚Ø¯Ù… ØªØ­Øª Ø¥Ø´Ø±Ø§Ù:</div>
                <div class="researcher-name-footer">Ø§Ù„Ø¨Ø§Ø­Ø« Ammar Nasir Hussein al-mantafji</div>
            </div>
            
            <p style="margin-top: 30px;">Â© 2026 Ù…Ø®ØªØ¨Ø± OBD Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ Ø§Ù„Ù…ØªÙ‚Ø¯Ù… - Ù†Ø¸Ø§Ù… Ø¨Ø­Ø«ÙŠ ÙƒÙ…ÙŠ Ù‡ÙˆÙ„ÙˆØºØ±Ø§ÙÙŠ</p>
            <p style="margin-top: 15px; color: #4bcffa;">
                <i class="fas fa-exclamation-circle"></i>
                Ù‡Ø°Ø§ Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØ­Ø§ÙƒÙŠ Ø§Ù„ØªØ¬Ø§Ø±Ø¨ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ© ÙÙŠ Ù…Ø®ØªØ¨Ø± OBD Ù…Ø¹ ØªØ­Ù„ÙŠÙ„ Ø°ÙƒÙŠ Ù„Ù„Ù†ØªØ§Ø¦Ø¬ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
            </p>
            <p style="margin-top: 10px; font-size: 0.9rem; color: #7bd5ff;">
                Ø§Ù„Ù…Ø±Ø¬Ø¹ Ø§Ù„Ø¨Ø­Ø«ÙŠ: OBD_New29_1_2026.pdf - Ø¨Ø­Ø« Observable Boundary Dynamics
            </p>
        </div>
    </div>

    <script>
        // Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…
        let currentExperiment = null;
        let experimentResults = null;
        let apiKey = localStorage.getItem('obd_lab_api_key') || '';
        let aiModel = 'openai/gpt-3.5-turbo';
        let chatHistory = [];

        // Ø¹Ù†Ø§ØµØ± DOM
        const loadingOverlay = document.getElementById('loading-overlay');
        const loadingText = document.getElementById('loading-text');
        const aiAnalysisContent = document.getElementById('ai-analysis-content');
        const dataStreamContent = document.getElementById('stream-content');

        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù†Ø¸Ø§Ù…
        document.addEventListener('DOMContentLoaded', function() {
            showLoading('Ø¬Ø§Ø±ÙŠ Ø¥Ø¹Ø¯Ø§Ø¯ Ù…Ø®ØªØ¨Ø± OBD...');
            
            // ØªØ´ØºÙŠÙ„ Ø§Ù„ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù…Ø±Ø¦ÙŠØ©
            initializeVisualization();
            
            // Ø¨Ø¯Ø¡ Ù…Ø­Ø§ÙƒØ§Ø© Ø£ÙˆÙ„ÙŠØ©
            setTimeout(() => {
                hideLoading();
                runInitialDemo();
            }, 2000);
        });

        // Ø¥Ø¸Ù‡Ø§Ø± Ø´Ø§Ø´Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„
        function showLoading(text) {
            loadingText.textContent = text;
            loadingOverlay.classList.add('active');
        }

        // Ø¥Ø®ÙØ§Ø¡ Ø´Ø§Ø´Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„
        function hideLoading() {
            loadingOverlay.classList.remove('active');
        }

        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØªØµÙˆØ± Ø§Ù„Ù…Ø±Ø¦ÙŠ
        function initializeVisualization() {
            updateEquipmentStatus('laser-equipment', 'ğŸŸ¢ Ø¬Ø§Ù‡Ø²');
            updateEquipmentStatus('scrambler-equipment', 'ğŸŸ¢ Ù†Ø´Ø·');
            updateEquipmentStatus('sensor-equipment', 'ğŸŸ¢ ÙŠØ¹Ù…Ù„');
            updateEquipmentStatus('ai-processor', apiKey ? 'ğŸŸ¢ Ù…ØªØµÙ„' : 'ğŸŸ¡ ÙŠØ­ØªØ§Ø¬ API');
            
            // ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø®Ø·ÙˆØ§Øª
            updateExperimentStep(1);
        }

        // ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø¹Ø¯Ø§Øª
        function updateEquipmentStatus(equipmentId, status) {
            const equipment = document.getElementById(equipmentId);
            const statusElement = equipment.querySelector('.equipment-status');
            statusElement.textContent = status;
            
            if (status.includes('ğŸŸ¢')) {
                statusElement.classList.remove('offline');
            } else {
                statusElement.classList.add('offline');
            }
        }

        // ØªØ­Ø¯ÙŠØ« Ø®Ø·ÙˆØ© Ø§Ù„ØªØ¬Ø±Ø¨Ø©
        function updateExperimentStep(stepNumber) {
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø®Ø·ÙˆØ§Øª
            for (let i = 1; i <= 4; i++) {
                const step = document.getElementById(`step-${i}`);
                step.style.opacity = '0.6';
                step.style.borderColor = 'rgba(0, 100, 255, 0.1)';
            }
            
            // ØªÙ…ÙŠÙŠØ² Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„Ø­Ø§Ù„ÙŠØ©
            const currentStep = document.getElementById(`step-${stepNumber}`);
            currentStep.style.opacity = '1';
            currentStep.style.borderColor = 'rgba(0, 100, 255, 0.3)';
        }

        // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØµÙˆØ± Ø§Ù„Ù…Ø±Ø¦ÙŠ
        function updateVisualization() {
            const laserPower = parseInt(document.getElementById('laser-power').value);
            const entropy = parseInt(document.getElementById('medium-entropy').value);
            const noise = parseInt(document.getElementById('noise-level').value);
            
            // ØªØ­Ø¯ÙŠØ« Ø´Ø¹Ø§Ø¹ Ø§Ù„Ù„ÙŠØ²Ø±
            const laserBeam = document.getElementById('laser-beam');
            laserBeam.style.width = `${100 + laserPower * 2}px`;
            laserBeam.style.opacity = laserPower / 100;
            
            // ØªØ­Ø¯ÙŠØ« ÙˆØ³Ø· Ø§Ù„ØªØ´ØªÙŠØª
            const bulkMedium = document.getElementById('bulk-medium');
            const scrambleIntensity = entropy / 100;
            bulkMedium.style.background = `
                radial-gradient(circle, 
                    rgba(0, ${100 + entropy}, 255, ${0.1 + scrambleIntensity * 0.2}),
                    rgba(0, ${50 + entropy * 0.5}, 150, ${0.2 + scrambleIntensity * 0.3}),
                    rgba(0, 20, 60, ${0.3 + scrambleIntensity * 0.4})
                )
            `;
            
            // ØªØ­Ø¯ÙŠØ« ØªÙŠØ§Ø± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            updateDataStream();
        }

        // ØªØ­Ø¯ÙŠØ« ØªÙŠØ§Ø± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        function updateDataStream() {
            const time = new Date();
            const entropy = parseInt(document.getElementById('medium-entropy').value);
            const noise = parseInt(document.getElementById('noise-level').value);
            
            const dataPoints = [
                `ğŸ•’ ${time.toLocaleTimeString('ar-SA')}`,
                `ğŸ“Š Ø¥Ù†ØªØ±ÙˆØ¨ÙŠØ§: ${entropy}%`,
                `ğŸ”Š Ø¶ÙˆØ¶Ø§Ø¡: ${noise}dB`,
                `ğŸŒ¡ï¸ Ø­Ø±Ø§Ø±Ø©: ${(25 + Math.random() * 5).toFixed(1)}Â°C`,
                `âš¡ Ø·Ø§Ù‚Ø©: ${(Math.random() * 100).toFixed(1)}mW`
            ];
            
            const randomData = dataPoints[Math.floor(Math.random() * dataPoints.length)];
            dataStreamContent.textContent = randomData;
        }

        // ØªØ´ØºÙŠÙ„ ØªØ¬Ø±Ø¨Ø© Ø£ÙˆÙ„ÙŠØ© ØªÙˆØ¶ÙŠØ­ÙŠØ©
        function runInitialDemo() {
            showLoading('Ø¬Ø§Ø±ÙŠ ØªØ´ØºÙŠÙ„ Ø§Ù„ØªØ¬Ø±Ø¨Ø© Ø§Ù„ØªÙˆØ¶ÙŠØ­ÙŠØ©...');
            
            setTimeout(() => {
                // Ù…Ø­Ø§ÙƒØ§Ø© Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªØ¬Ø±Ø¨Ø©
                simulateExperimentSteps();
                
                // Ø­Ø³Ø§Ø¨ Ø§Ù„Ù†ØªØ§Ø¦Ø¬
                calculateResults();
                
                hideLoading();
            }, 1500);
        }

        // Ù…Ø­Ø§ÙƒØ§Ø© Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªØ¬Ø±Ø¨Ø©
        function simulateExperimentSteps() {
            // Ø§Ù„Ø®Ø·ÙˆØ© 1: Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¹ÙŠÙ†Ø©
            updateExperimentStep(1);
            showNotification('Ø¬Ø§Ø±ÙŠ ØªØ­Ø¶ÙŠØ± ÙˆØ³Ø· Ø§Ù„ØªØ´ØªÙŠØª Ø¹Ø§Ù„ÙŠ Ø§Ù„Ø¥Ù†ØªØ±ÙˆØ¨ÙŠØ§...');
            
            setTimeout(() => {
                // Ø§Ù„Ø®Ø·ÙˆØ© 2: Ø­Ù‚Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                updateExperimentStep(2);
                showNotification('Ø¬Ø§Ø±ÙŠ ØªØ±Ù…ÙŠØ² Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„ÙƒÙ…ÙˆÙ…ÙŠØ©...');
                
                setTimeout(() => {
                    // Ø§Ù„Ø®Ø·ÙˆØ© 3: Ø§Ù„ØªØ´ØªÙŠØª Ø§Ù„ÙˆØ­Ø¯ÙˆÙŠ
                    updateExperimentStep(3);
                    showNotification('ØªÙØ¹ÙŠÙ„ Ù…ØµÙÙˆÙØ© Ø§Ù„ØªØ´ØªÙŠØª U(t)...');
                    
                    setTimeout(() => {
                        // Ø§Ù„Ø®Ø·ÙˆØ© 4: Ø§Ù„Ø§Ø³ØªØ´Ø¹Ø§Ø± ÙˆØ§Ù„ØªØ­Ù„ÙŠÙ„
                        updateExperimentStep(4);
                        showNotification('Ù‚Ø±Ø§Ø¡Ø© Ø£Ù†Ù…Ø§Ø· Ø§Ù„ØªØ¯Ø§Ø®Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ø­Ø¯ÙˆØ¯...');
                        
                        // ØªØ´ØºÙŠÙ„ Ø§Ù„ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ù…Ø±Ø¦ÙŠØ©
                        runVisualEffects();
                        
                    }, 800);
                }, 800);
            }, 800);
        }

        // ØªØ´ØºÙŠÙ„ Ø§Ù„ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ù…Ø±Ø¦ÙŠØ©
        function runVisualEffects() {
            const laserBeam = document.getElementById('laser-beam');
            const bulkMedium = document.getElementById('bulk-medium');
            const boundarySensor = document.getElementById('boundary-sensor');
            
            // ØªØ£Ø«ÙŠØ± Ø§Ù„Ù„ÙŠØ²Ø±
            laserBeam.style.transform = 'scaleX(1.2)';
            laserBeam.style.boxShadow = '0 0 30px rgba(255, 0, 0, 0.8)';
            
            // ØªØ£Ø«ÙŠØ± Ø§Ù„ØªØ´ØªÙŠØª
            bulkMedium.style.transform = 'scale(1.05)';
            bulkMedium.style.boxShadow = '0 0 40px rgba(0, 100, 255, 0.6)';
            
            // ØªØ£Ø«ÙŠØ± Ø§Ù„Ù…Ø³ØªØ´Ø¹Ø±
            boundarySensor.style.transform = 'scale(1.1)';
            boundarySensor.style.boxShadow = '0 0 30px rgba(46, 204, 113, 0.6)';
            boundarySensor.innerHTML = '<i class="fas fa-wifi fa-spin"></i> ğŸ“¡ ÙŠØ¬Ù…Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...';
            
            setTimeout(() => {
                // Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ£Ø«ÙŠØ±Ø§Øª
                laserBeam.style.transform = 'scaleX(1)';
                laserBeam.style.boxShadow = '0 0 20px rgba(255, 0, 0, 0.5)';
                bulkMedium.style.transform = 'scale(1)';
                bulkMedium.style.boxShadow = '0 0 20px rgba(0, 100, 255, 0.3)';
                boundarySensor.style.transform = 'scale(1)';
                boundarySensor.style.boxShadow = '0 0 20px rgba(46, 204, 113, 0.3)';
                boundarySensor.innerHTML = '<i class="fas fa-wifi"></i> âœ… Ø§ÙƒØªÙ…Ù„ Ø§Ù„Ø¬Ù…Ø¹';
                
            }, 2000);
        }

        // Ø­Ø³Ø§Ø¨ Ø§Ù„Ù†ØªØ§Ø¦Ø¬
        function calculateResults() {
            const laserPower = parseInt(document.getElementById('laser-power').value);
            const entropy = parseInt(document.getElementById('medium-entropy').value);
            const scrambleTime = parseInt(document.getElementById('scramble-time').value);
            const noise = parseInt(document.getElementById('noise-level').value);
            
            // Ø­Ø³Ø§Ø¨ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ù…Ø¹Ø§Ø¯Ù„Ø§Øª Ø§Ù„Ø¨Ø­Ø«
            const bulkVisibility = 4.2 * Math.exp(-entropy/100 * 2) * (1 - noise/100 * 0.3);
            const boundaryCorrelation = 0.98 * Math.exp(-noise/100 * 0.8) * (1 + entropy/100 * 0.1);
            const recoveryFidelity = 99.1 * Math.exp(-noise/100 * 0.4 - entropy/100 * 0.3);
            const lyapunovExponent = 0.42 * (entropy/100) * (scrambleTime/500);
            
            // ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù†ØªØ§Ø¦Ø¬
            experimentResults = {
                laserPower,
                entropy,
                scrambleTime,
                noise,
                bulkVisibility,
                boundaryCorrelation,
                recoveryFidelity,
                lyapunovExponent,
                timestamp: new Date().toISOString()
            };
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
            updateResultsDisplay();
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ ØªÙŠØ§Ø± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            dataStreamContent.innerHTML = `
                âœ… Ø§ÙƒØªÙ…Ù„Øª Ø§Ù„ØªØ¬Ø±Ø¨Ø©<br>
                ğŸ“Š Ø§Ù„Ù†ØªØ§Ø¦Ø¬: Ø±Ø¤ÙŠØ© ${bulkVisibility.toFixed(1)}% | Ø§Ø±ØªØ¨Ø§Ø· ${boundaryCorrelation.toFixed(2)} | Ø¯Ù‚Ø© ${recoveryFidelity.toFixed(1)}%
            `;
            
            showNotification(`Ø§ÙƒØªÙ…Ù„Øª Ø§Ù„ØªØ¬Ø±Ø¨Ø© Ø¨Ù†Ø¬Ø§Ø­! Ø§Ù„Ø¯Ù‚Ø©: ${recoveryFidelity.toFixed(1)}%`);
        }

        // ØªØ­Ø¯ÙŠØ« Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬
        function updateResultsDisplay() {
            if (!experimentResults) return;
            
            document.getElementById('bulk-visibility').textContent = 
                experimentResults.bulkVisibility.toFixed(1);
            document.getElementById('boundary-correlation').textContent = 
                experimentResults.boundaryCorrelation.toFixed(2);
            document.getElementById('recovery-fidelity').textContent = 
                experimentResults.recoveryFidelity.toFixed(1);
            document.getElementById('lyapunov-exponent').textContent = 
                experimentResults.lyapunovExponent.toFixed(2);
        }

        // ØªØ´ØºÙŠÙ„ Ø§Ù„ØªØ¬Ø±Ø¨Ø©
        function runExperiment() {
            showLoading('Ø¬Ø§Ø±ÙŠ ØªØ´ØºÙŠÙ„ Ø§Ù„ØªØ¬Ø±Ø¨Ø©...');
            
            setTimeout(() => {
                simulateExperimentSteps();
                
                setTimeout(() => {
                    calculateResults();
                    hideLoading();
                }, 2500);
            }, 1000);
        }

        // ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
        async function analyzeResults() {
            if (!apiKey) {
                showNotification('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ù…ÙØªØ§Ø­ OpenRouter API Ø£ÙˆÙ„Ø§Ù‹');
                return;
            }
            
            if (!experimentResults) {
                showNotification('Ø§Ù„Ø±Ø¬Ø§Ø¡ ØªØ´ØºÙŠÙ„ ØªØ¬Ø±Ø¨Ø© Ø£ÙˆÙ„Ø§Ù‹');
                return;
            }
            
            const prompt = `Ø£Ù†Øª Ù…Ø­Ù„Ù„ Ù…Ø®ØªØ¨Ø± OBD Ù…ØªØ®ØµØµ. Ù‚Ù… Ø¨ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„ØªØ§Ù„ÙŠØ©:

Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ø§Ù„ØªØ¬Ø±Ø¨Ø©:
- Ù‚ÙˆØ© Ø§Ù„Ù„ÙŠØ²Ø±: ${experimentResults.laserPower} Ù…ÙŠØ¬Ø§ÙˆØ§Øª
- Ø¥Ù†ØªØ±ÙˆØ¨ÙŠØ§ Ø§Ù„ÙˆØ³Ø·: ${experimentResults.entropy}%
- Ø²Ù…Ù† Ø§Ù„ØªØ´ØªÙŠØª: ${experimentResults.scrambleTime} Ù…Ù„ÙŠ Ø«Ø§Ù†ÙŠØ©
- Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø¶ÙˆØ¶Ø§Ø¡: ${experimentResults.noise} Ø¯ÙŠØ³ÙŠØ¨Ù„

Ø§Ù„Ù†ØªØ§Ø¦Ø¬:
- Ø±Ø¤ÙŠØ© Ø§Ù„Ø¯Ø§Ø®Ù„ (Bulk Visibility): ${experimentResults.bulkVisibility.toFixed(2)}%
- Ø§Ø±ØªØ¨Ø§Ø· Ø§Ù„Ø­Ø¯ÙˆØ¯ (Boundary Correlation): ${experimentResults.boundaryCorrelation.toFixed(3)}
- Ø¯Ù‚Ø© Ø§Ù„Ø§Ø³ØªØ±Ø¯Ø§Ø¯ (Recovery Fidelity): ${experimentResults.recoveryFidelity.toFixed(2)}%
- Ø£Ø³ Ù„ÙŠØ§Ø¨Ø§Ù†ÙˆÙ (Lyapunov Exponent): ${experimentResults.lyapunovExponent.toFixed(3)}

Ø­Ù„Ù„ Ù‡Ø°Ù‡ Ø§Ù„Ù†ØªØ§Ø¬ Ù…Ù† Ø­ÙŠØ«:
1. ÙØ¹Ø§Ù„ÙŠØ© Ø¹Ù…Ù„ÙŠØ© "Ø§Ù„Ù…ÙˆØª Ø§Ù„Ø¹Ù…Ù„ÙŠ" Ù„Ù„Ø¯Ø§Ø®Ù„
2. Ø¬ÙˆØ¯Ø© Ù‡Ø¬Ø±Ø© Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø¯ÙˆØ¯
3. ØªØ£Ø«ÙŠØ± Ø§Ù„Ø¶ÙˆØ¶Ø§Ø¡ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø¯Ø§Ø¡
4. Ù…Ù‚Ø§Ø±Ù†Ø© Ù…Ø¹ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù…Ø«Ù„Ù‰ ÙÙŠ Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø£ØµÙ„ÙŠ
5. ØªÙˆØµÙŠØ§Øª Ù„ØªØ­Ø³ÙŠÙ† Ø§Ù„ØªØ¬Ø±Ø¨Ø©

Ø£Ø¬Ø¨ Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© ÙˆØ¨Ø£Ø³Ù„ÙˆØ¨ Ø¹Ù„Ù…ÙŠ ÙˆØ§Ø¶Ø­.`;

            askAI(prompt);
        }

        // ØªÙˆÙ„ÙŠØ¯ ØªÙ‚Ø±ÙŠØ± Ù…ÙØµÙ„
        async function generateReport() {
            if (!apiKey) {
                showNotification('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ù…ÙØªØ§Ø­ OpenRouter API Ø£ÙˆÙ„Ø§Ù‹');
                return;
            }
            
            if (!experimentResults) {
                showNotification('Ø§Ù„Ø±Ø¬Ø§Ø¡ ØªØ´ØºÙŠÙ„ ØªØ¬Ø±Ø¨Ø© Ø£ÙˆÙ„Ø§Ù‹');
                return;
            }
            
            const prompt = `Ø£Ù†Øª Ù…Ø³Ø§Ø¹Ø¯ ÙƒØªØ§Ø¨Ø© ØªÙ‚Ø§Ø±ÙŠØ± Ù…Ø®ØªØ¨Ø± OBD. Ù‚Ù… Ø¨ÙƒØªØ§Ø¨Ø© ØªÙ‚Ø±ÙŠØ± Ø¹Ù„Ù…ÙŠ Ù…ÙØµÙ„ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰:

1. Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªØ¬Ø±Ø¨Ø©:
   - Ø§Ù„ØªØ§Ø±ÙŠØ® ÙˆØ§Ù„ÙˆÙ‚Øª: ${new Date(experimentResults.timestamp).toLocaleString('ar-SA')}
   - Ø§Ù„Ø¨Ø§Ø­Ø« Ø§Ù„Ù…Ø´Ø±Ù: Ammar Nasir Hussein al-mantafji
   - Ù†ÙˆØ¹ Ø§Ù„ØªØ¬Ø±Ø¨Ø©: OBD - Observable Boundary Dynamics

2. Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠØ©:
   - Ù‚ÙˆØ© Ø§Ù„Ù„ÙŠØ²Ø±: ${experimentResults.laserPower} Ù…ÙŠØ¬Ø§ÙˆØ§Øª
   - Ø¥Ù†ØªØ±ÙˆØ¨ÙŠØ§ ÙˆØ³Ø· Ø§Ù„ØªØ´ØªÙŠØª: ${experimentResults.entropy}%
   - Ù…Ø¯Ø© Ø§Ù„ØªØ´ØªÙŠØª: ${experimentResults.scrambleTime} Ù…Ù„ÙŠ Ø«Ø§Ù†ÙŠØ©
   - Ù…Ø³ØªÙˆÙ‰ Ø¶ÙˆØ¶Ø§Ø¡ Ø§Ù„Ù…Ø­ÙŠØ·: ${experimentResults.noise} Ø¯ÙŠØ³ÙŠØ¨Ù„

3. Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù‚ÙŠØ§Ø³ÙŠØ©:
   - Ø±Ø¤ÙŠØ© Ø§Ù„Ø¯Ø§Ø®Ù„: ${experimentResults.bulkVisibility.toFixed(2)}%
   - Ø§Ø±ØªØ¨Ø§Ø· Ø§Ù„Ø­Ø¯ÙˆØ¯: ${experimentResults.boundaryCorrelation.toFixed(3)}
   - Ø¯Ù‚Ø© Ø§Ø³ØªØ±Ø¯Ø§Ø¯ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª: ${experimentResults.recoveryFidelity.toFixed(2)}%
   - Ø£Ø³ Ù„ÙŠØ§Ø¨Ø§Ù†ÙˆÙ: ${experimentResults.lyapunovExponent.toFixed(3)}

4. Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¹Ù„Ù…ÙŠ:
   - ØªÙØ³ÙŠØ± Ø¸Ø§Ù‡Ø±Ø© "Ø§Ù„Ù…ÙˆØª Ø§Ù„Ø¹Ù…Ù„ÙŠ" Ù„Ù„Ø¯Ø§Ø®Ù„
   - ÙƒÙØ§Ø¡Ø© Ù‡Ø¬Ø±Ø© Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø¯ÙˆØ¯
   - ØªØ£Ø«ÙŠØ± Ø§Ù„Ø¹ÙˆØ§Ù…Ù„ Ø§Ù„Ù…Ø®ØªÙ„ÙØ© Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø³ Ù„ÙŠØ§Ø¨Ø§Ù†ÙˆÙ
   - Ù…Ù‚Ø§Ø±Ù†Ø© Ù…Ø¹ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù†Ø¸Ø±ÙŠØ©

5. Ø§Ù„Ø§Ø³ØªÙ†ØªØ§Ø¬Ø§Øª ÙˆØ§Ù„ØªÙˆØµÙŠØ§Øª:
   - ØªÙ‚ÙŠÙŠÙ… Ù†Ø¬Ø§Ø­ Ø§Ù„ØªØ¬Ø±Ø¨Ø©
   - Ù†Ù‚Ø§Ø· Ø§Ù„Ù‚ÙˆØ© ÙˆØ§Ù„Ø¶Ø¹Ù
   - ØªÙˆØµÙŠØ§Øª Ù„Ù„ØªØ¬Ø§Ø±Ø¨ Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠØ©
   - Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø§Ù„Ù…Ø­ØªÙ…Ù„Ø©

6. Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹ Ø§Ù„Ø¹Ù„Ù…ÙŠØ©:
   - Ø°ÙƒØ± Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø£ØµÙ„ÙŠ OBD_New29_1_2026.pdf
   - Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹ Ø°Ø§Øª Ø§Ù„ØµÙ„Ø©

Ø£ÙƒØªØ¨ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© ÙˆØ¨ØµÙŠØºØ© Ø¹Ù„Ù…ÙŠØ© Ø§Ø­ØªØ±Ø§ÙÙŠØ© Ù…Ø¹ Ø¹Ù†Ø§ÙˆÙŠÙ† ÙØ±Ø¹ÙŠØ© Ù…Ù†Ø§Ø³Ø¨Ø©.`;

            showLoading('Ø¬Ø§Ø±ÙŠ ØªÙˆÙ„ÙŠØ¯ Ø§Ù„ØªÙ‚Ø±ÙŠØ±...');
            
            try {
                const response = await callOpenRouterAPI(prompt);
                
                // ÙØªØ­ Ø§Ù„ØªÙ‚Ø±ÙŠØ± ÙÙŠ Ù†Ø§ÙØ°Ø© Ø¬Ø¯ÙŠØ¯Ø©
                const reportWindow = window.open('', '_blank');
                reportWindow.document.write(`
                    <!DOCTYPE html>
                    <html dir="rtl">
                    <head>
                        <meta charset="UTF-8">
                        <title>ØªÙ‚Ø±ÙŠØ± Ù…Ø®ØªØ¨Ø± OBD</title>
                        <style>
                            body { 
                                font-family: 'Arial', sans-serif; 
                                padding: 40px; 
                                line-height: 1.8;
                                background: #f5f5f5;
                                color: #333;
                            }
                            .header { 
                                background: linear-gradient(135deg, #0066ff, #0044cc);
                                color: white;
                                padding: 30px;
                                border-radius: 10px;
                                margin-bottom: 30px;
                                text-align: center;
                            }
                            h1 { color: white; margin-bottom: 10px; }
                            h2 { color: #0066ff; margin-top: 30px; border-bottom: 2px solid #0066ff; padding-bottom: 10px; }
                            h3 { color: #00a8ff; }
                            .results-grid {
                                display: grid;
                                grid-template-columns: repeat(2, 1fr);
                                gap: 20px;
                                margin: 20px 0;
                            }
                            .result-card {
                                background: white;
                                padding: 20px;
                                border-radius: 8px;
                                border-left: 5px solid #00a8ff;
                                box-shadow: 0 3px 10px rgba(0,0,0,0.1);
                            }
                            .parameter-table {
                                width: 100%;
                                border-collapse: collapse;
                                margin: 20px 0;
                                background: white;
                                border-radius: 8px;
                                overflow: hidden;
                                box-shadow: 0 3px 10px rgba(0,0,0,0.1);
                            }
                            .parameter-table th {
                                background: #0066ff;
                                color: white;
                                padding: 15px;
                                text-align: right;
                            }
                            .parameter-table td {
                                padding: 12px 15px;
                                border-bottom: 1px solid #eee;
                            }
                            .footer {
                                margin-top: 40px;
                                padding-top: 20px;
                                border-top: 2px solid #0066ff;
                                color: #666;
                                text-align: center;
                            }
                        </style>
                    </head>
                    <body>
                        <div class="header">
                            <h1>ØªÙ‚Ø±ÙŠØ± Ù…Ø®ØªØ¨Ø± OBD Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ</h1>
                            <p>ØªØ¬Ø±Ø¨Ø© Observable Boundary Dynamics</p>
                            <p style="opacity: 0.9;">Ø§Ù„Ø¨Ø§Ø­Ø« Ø§Ù„Ù…Ø´Ø±Ù: Ammar Nasir Hussein al-mantafji - ${new Date().toLocaleDateString('ar-SA')}</p>
                        </div>
                        
                        <div class="results-grid">
                            <div class="result-card">
                                <h3>ğŸ‘ï¸ Ø±Ø¤ÙŠØ© Ø§Ù„Ø¯Ø§Ø®Ù„</h3>
                                <p style="font-size: 2rem; color: #0066ff; font-weight: bold;">
                                    ${experimentResults.bulkVisibility.toFixed(2)}%
                                </p>
                            </div>
                            <div class="result-card">
                                <h3>ğŸ”— Ø§Ø±ØªØ¨Ø§Ø· Ø§Ù„Ø­Ø¯ÙˆØ¯</h3>
                                <p style="font-size: 2rem; color: #00a8ff; font-weight: bold;">
                                    ${experimentResults.boundaryCorrelation.toFixed(3)}
                                </p>
                            </div>
                            <div class="result-card">
                                <h3>ğŸ¯ Ø¯Ù‚Ø© Ø§Ù„Ø§Ø³ØªØ±Ø¯Ø§Ø¯</h3>
                                <p style="font-size: 2rem; color: #1dd1a1; font-weight: bold;">
                                    ${experimentResults.recoveryFidelity.toFixed(2)}%
                                </p>
                            </div>
                            <div class="result-card">
                                <h3>âš¡ Ø£Ø³ Ù„ÙŠØ§Ø¨Ø§Ù†ÙˆÙ</h3>
                                <p style="font-size: 2rem; color: #9b59b6; font-weight: bold;">
                                    ${experimentResults.lyapunovExponent.toFixed(3)}
                                </p>
                            </div>
                        </div>
                        
                        <table class="parameter-table">
                            <thead>
                                <tr>
                                    <th>Ø§Ù„Ù…Ø¹Ø§Ù…Ù„</th>
                                    <th>Ø§Ù„Ù‚ÙŠÙ…Ø©</th>
                                    <th>Ø§Ù„ÙˆØ­Ø¯Ø©</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Ù‚ÙˆØ© Ø§Ù„Ù„ÙŠØ²Ø±</td>
                                    <td>${experimentResults.laserPower}</td>
                                    <td>Ù…ÙŠØ¬Ø§ÙˆØ§Øª</td>
                                </tr>
                                <tr>
                                    <td>Ø¥Ù†ØªØ±ÙˆØ¨ÙŠØ§ Ø§Ù„ÙˆØ³Ø·</td>
                                    <td>${experimentResults.entropy}</td>
                                    <td>%</td>
                                </tr>
                                <tr>
                                    <td>Ø²Ù…Ù† Ø§Ù„ØªØ´ØªÙŠØª</td>
                                    <td>${experimentResults.scrambleTime}</td>
                                    <td>Ù…Ù„ÙŠ Ø«Ø§Ù†ÙŠØ©</td>
                                </tr>
                                <tr>
                                    <td>Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø¶ÙˆØ¶Ø§Ø¡</td>
                                    <td>${experimentResults.noise}</td>
                                    <td>Ø¯ÙŠØ³ÙŠØ¨Ù„</td>
                                </tr>
                            </tbody>
                        </table>
                        
                        <div>
                            ${response.replace(/\n/g, '<br>').replace(/## (.*?):/g, '<h2>$1</h2>').replace(/### (.*?):/g, '<h3>$1</h3>')}
                        </div>
                        
                        <div class="footer">
                            <p>Â© 2026 Ù…Ø®ØªØ¨Ø± OBD Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ - Ù†Ø¸Ø§Ù… Ø¨Ø­Ø«ÙŠ ØªØ­Øª Ø¥Ø´Ø±Ø§Ù Ø§Ù„Ø¨Ø§Ø­Ø« Ammar Nasir Hussein al-mantafji</p>
                        </div>
                    </body>
                    </html>
                `);
                reportWindow.document.close();
                
                hideLoading();
                showNotification('ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø¨Ù†Ø¬Ø§Ø­!');
                
            } catch (error) {
                hideLoading();
                showNotification(`âŒ Ø®Ø·Ø£: ${error.message}`);
            }
        }

        // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„ØªØ¬Ø±Ø¨Ø©
        function resetExperiment() {
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù…Ù†Ø²Ù„Ù‚Ø§Øª
            document.getElementById('laser-power').value = 50;
            document.getElementById('medium-entropy').value = 75;
            document.getElementById('scramble-time').value = 500;
            document.getElementById('noise-level').value = 25;
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø±ÙˆØ¶
            document.getElementById('laser-power-value').textContent = '50';
            document.getElementById('entropy-value').textContent = '75';
            document.getElementById('time-value').textContent = '500';
            document.getElementById('noise-value').textContent = '25';
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØµÙˆØ± Ø§Ù„Ù…Ø±Ø¦ÙŠ
            updateVisualization();
            
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù†ØªØ§Ø¦Ø¬
            document.getElementById('bulk-visibility').textContent = '0.0';
            document.getElementById('boundary-correlation').textContent = '0.00';
            document.getElementById('recovery-fidelity').textContent = '0.0';
            document.getElementById('lyapunov-exponent').textContent = '0.00';
            
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            dataStreamContent.textContent = 'Ø¬Ø§Ø±ÙŠ Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...';
            experimentResults = null;
            
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø®Ø·ÙˆØ§Øª
            updateExperimentStep(1);
            
            showNotification('ØªÙ… Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„ØªØ¬Ø±Ø¨Ø© Ø¨Ù†Ø¬Ø§Ø­');
        }

        // Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹ OpenRouter API
        async function callOpenRouterAPI(prompt) {
            if (!apiKey) {
                throw new Error('Ù…ÙØªØ§Ø­ API ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯');
            }
            
            try {
                const response = await axios.post(
                    'https://openrouter.ai/api/v1/chat/completions',
                    {
                        model: aiModel,
                        messages: [
                            {
                                role: "system",
                                content: `Ø£Ù†Øª Ù…Ø³Ø§Ø¹Ø¯ Ù…Ø®ØªØ¨Ø± OBD Ù…ØªØ®ØµØµ ÙÙŠ Ø§Ù„ÙÙŠØ²ÙŠØ§Ø¡ Ø§Ù„ÙƒÙ…ÙˆÙ…ÙŠØ© ÙˆØ§Ù„ØªØ´ÙÙŠØ± Ø§Ù„Ù‡ÙˆÙ„ÙˆØºØ±Ø§ÙÙŠ.
Ø£Ù†Øª ØªØ³Ø§Ø¹Ø¯ Ø§Ù„Ø¨Ø§Ø­Ø« Ammar Nasir Hussein al-mantafji ÙÙŠ ØªØ­Ù„ÙŠÙ„ Ù†ØªØ§Ø¦Ø¬ ØªØ¬Ø§Ø±Ø¨ Observable Boundary Dynamics.
Ø£Ø¬Ø¨ Ø¯Ø§Ø¦Ù…Ø§Ù‹ Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© ÙˆØ¨Ø£Ø³Ù„ÙˆØ¨ Ø¹Ù„Ù…ÙŠ Ø¯Ù‚ÙŠÙ‚.
Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø§Øª ÙˆØ§Ù„Ù…ØµØ·Ù„Ø­Ø§Øª Ø§Ù„ÙÙ†ÙŠØ© Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©.`
                            },
                            {
                                role: "user",
                                content: prompt
                            }
                        ],
                        temperature: 0.7,
                        max_tokens: 3000
                    },
                    {
                        headers: {
                            'Authorization': `Bearer ${apiKey}`,
                            'Content-Type': 'application/json',
                            'HTTP-Referer': window.location.origin,
                            'X-Title': 'OBD Laboratory AI Assistant'
                        }
                    }
                );
                
                return response.data.choices[0].message.content;
            } catch (error) {
                console.error('OpenRouter Error:', error);
                throw new Error(`ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„: ${error.response?.data?.error?.message || error.message}`);
            }
        }

        // Ø·Ø±Ø­ Ø³Ø¤Ø§Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
        async function askAI(prompt) {
            if (!apiKey) {
                showNotification('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ù…ÙØªØ§Ø­ OpenRouter API Ø£ÙˆÙ„Ø§Ù‹');
                return;
            }
            
            // Ø¥Ø¶Ø§ÙØ© Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
            addUserMessage(prompt);
            
            // Ø¥Ø¶Ø§ÙØ© Ù…Ø¤Ø´Ø± Ø§Ù„ÙƒØªØ§Ø¨Ø©
            addTypingIndicator();
            
            try {
                const response = await callOpenRouterAPI(prompt);
                
                // Ø¥Ø²Ø§Ù„Ø© Ù…Ø¤Ø´Ø± Ø§Ù„ÙƒØªØ§Ø¨Ø©
                removeTypingIndicator();
                
                // Ø¥Ø¶Ø§ÙØ© Ø±Ø¯ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
                addAIMessage(response);
                
                // ØªØ­Ø¯ÙŠØ« Ø³Ø¬Ù„ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©
                chatHistory.push({ role: "user", content: prompt });
                chatHistory.push({ role: "assistant", content: response });
                
                // Ø§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ø­Ø¬Ù… Ù…Ø¹Ù‚ÙˆÙ„ Ù„Ù„Ø³Ø¬Ù„
                if (chatHistory.length > 10) {
                    chatHistory = chatHistory.slice(-10);
                }
                
            } catch (error) {
                removeTypingIndicator();
                addAIMessage(`âŒ Ø®Ø·Ø£: ${error.message}`);
                showNotification('ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ');
            }
        }

        // Ø¥Ø¶Ø§ÙØ© Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        function addUserMessage(content) {
            const messageDiv = document.createElement('div');
            messageDiv.className = 'analysis-message message-user';
            messageDiv.innerHTML = `
                <div class="message-header user-message-header">
                    <i class="fas fa-user"></i>
                    Ø£Ù†Øª
                </div>
                <div class="message-content">${content}</div>
            `;
            aiAnalysisContent.appendChild(messageDiv);
            aiAnalysisContent.scrollTop = aiAnalysisContent.scrollHeight;
        }

        // Ø¥Ø¶Ø§ÙØ© Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
        function addAIMessage(content) {
            const messageDiv = document.createElement('div');
            messageDiv.className = 'analysis-message message-ai';
            messageDiv.innerHTML = `
                <div class="message-header ai-message-header">
                    <i class="fas fa-robot"></i>
                    Ù…Ø­Ù„Ù„ OBD Ø§Ù„Ø°ÙƒÙŠ
                </div>
                <div class="message-content">${content}</div>
            `;
            aiAnalysisContent.appendChild(messageDiv);
            aiAnalysisContent.scrollTop = aiAnalysisContent.scrollHeight;
        }

        // Ø¥Ø¶Ø§ÙØ© Ù…Ø¤Ø´Ø± Ø§Ù„ÙƒØªØ§Ø¨Ø©
        function addTypingIndicator() {
            const typingDiv = document.createElement('div');
            typingDiv.className = 'typing-indicator';
            typingDiv.id = 'typing-indicator';
            typingDiv.innerHTML = `
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
                <span>Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù„ÙŠÙ„...</span>
            `;
            aiAnalysisContent.appendChild(typingDiv);
            aiAnalysisContent.scrollTop = aiAnalysisContent.scrollHeight;
        }

        // Ø¥Ø²Ø§Ù„Ø© Ù…Ø¤Ø´Ø± Ø§Ù„ÙƒØªØ§Ø¨Ø©
        function removeTypingIndicator() {
            const typingIndicator = document.getElementById('typing-indicator');
            if (typingIndicator) {
                typingIndicator.remove();
            }
        }

        // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
        function showNotification(message) {
            // Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù†ØµØ± Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                left: 50%;
                transform: translateX(-50%);
                background: linear-gradient(135deg, #0066ff, #0044cc);
                color: white;
                padding: 15px 30px;
                border-radius: 10px;
                box-shadow: 0 5px 20px rgba(0, 102, 255, 0.3);
                z-index: 1000;
                font-weight: 600;
                animation: slideIn 0.3s ease;
            `;
            
            notification.textContent = message;
            document.body.appendChild(notification);
            
            // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø± Ø¨Ø¹Ø¯ 3 Ø«ÙˆØ§Ù†Ù
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }

        // Ø¥Ø¶Ø§ÙØ© Ø£Ù†Ù…Ø§Ø· CSS Ù„Ù„ØªØ­Ø±ÙŠÙƒ
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from { top: -100px; opacity: 0; }
                to { top: 20px; opacity: 1; }
            }
            @keyframes slideOut {
                from { top: 20px; opacity: 1; }
                to { top: -100px; opacity: 0; }
            }
        `;
        document.head.appendChild(style);

        // ØªØ­Ø¯ÙŠØ« ØªÙŠØ§Ø± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø´ÙƒÙ„ Ø¯ÙˆØ±ÙŠ
        setInterval(updateDataStream, 2000);
        
        // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØµÙˆØ± Ø§Ù„Ù…Ø±Ø¦ÙŠ Ø¨Ø´ÙƒÙ„ Ø¯ÙˆØ±ÙŠ
        setInterval(updateVisualization, 1000);
    </script>
</body>
</html>
