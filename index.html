<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ø®ØªØ¨Ø± OBD - Ø¥Ø´Ø±Ø§Ù: Ø§Ù„Ø¨Ø§Ø­Ø« Ammar Nasir Hussein al-mantafji</title>
    <!-- Ø§Ø³ØªØ®Ø¯Ø§Ù… CDN Ù…ÙˆØ«ÙˆÙ‚ Ù„ Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Ø§Ø³ØªØ®Ø¯Ø§Ù… CDN Ù…ÙˆØ«ÙˆÙ‚ Ù„ Axios -->
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #001a33 0%, #000814 100%);
            color: white;
            min-height: 100vh;
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 10, 30, 0.95);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.5s ease;
        }

        .loading-overlay.active {
            opacity: 1;
            pointer-events: all;
        }

        .lab-spinner {
            width: 80px;
            height: 80px;
            border: 6px solid rgba(0, 100, 255, 0.3);
            border-top: 6px solid #0066ff;
            border-radius: 50%;
            animation: spin 1.5s linear infinite;
            margin-bottom: 30px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .loading-text {
            font-size: 1.2rem;
            color: #4bcffa;
            text-align: center;
            max-width: 600px;
            margin-top: 20px;
        }

        .lab-header {
            background: linear-gradient(135deg, rgba(0, 30, 80, 0.8) 0%, rgba(0, 10, 40, 0.9) 100%);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            border: 1px solid rgba(0, 100, 255, 0.3);
            box-shadow: 0 10px 30px rgba(0, 50, 150, 0.2);
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .lab-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(90deg, #0066ff, #00a8ff, #0066ff);
        }

        .researcher-badge, .lab-badge, .ai-lab-badge, .system-badge {
            display: inline-block;
            background: rgba(0, 100, 255, 0.2);
            border: 1px solid rgba(0, 100, 255, 0.4);
            border-radius: 50px;
            padding: 8px 20px;
            margin: 0 10px 15px;
            font-size: 0.9rem;
            color: #7bd5ff;
        }

        .research-title {
            font-size: 2.5rem;
            color: #ffffff;
            margin: 20px 0 10px;
            background: linear-gradient(90deg, #ffffff, #4bcffa);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 2px 10px rgba(0, 100, 255, 0.3);
        }

        .lab-subtitle {
            font-size: 1.2rem;
            color: #a0d2db;
            margin-bottom: 25px;
        }

        .researcher-info {
            font-size: 1.1rem;
            color: #7bd5ff;
            margin-top: 20px;
        }

        .researcher-title {
            font-size: 1.8rem;
            color: #ffffff;
            margin: 10px 0 20px;
            font-weight: bold;
            letter-spacing: 1px;
        }

        .research-description {
            max-width: 900px;
            margin: 25px auto 0;
            font-size: 1.1rem;
            color: #c2e7ff;
            line-height: 1.8;
            padding: 20px;
            background: rgba(0, 20, 60, 0.3);
            border-radius: 10px;
            border: 1px solid rgba(0, 100, 255, 0.2);
        }

        .lab-system {
            display: grid;
            grid-template-columns: 1fr 1.5fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        @media (max-width: 1100px) {
            .lab-system {
                grid-template-columns: 1fr;
            }
        }

        .section-title {
            font-size: 1.6rem;
            color: #ffffff;
            margin-bottom: 25px;
            padding-bottom: 10px;
            border-bottom: 2px solid rgba(0, 100, 255, 0.3);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .subsection-title {
            font-size: 1.3rem;
            color: #4bcffa;
            margin: 25px 0 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .lab-control-panel {
            background: rgba(0, 20, 60, 0.7);
            border-radius: 15px;
            padding: 25px;
            border: 1px solid rgba(0, 100, 255, 0.2);
            box-shadow: 0 8px 25px rgba(0, 50, 150, 0.2);
        }

        .lab-equipment {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 30px;
        }

        .equipment-card {
            background: rgba(0, 30, 80, 0.5);
            border-radius: 10px;
            padding: 15px;
            border: 1px solid rgba(0, 100, 255, 0.2);
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }

        .equipment-card:hover {
            border-color: rgba(0, 168, 255, 0.5);
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 100, 255, 0.2);
        }

        .equipment-icon {
            font-size: 2rem;
            color: #4bcffa;
            margin-bottom: 10px;
        }

        .equipment-name {
            font-size: 0.95rem;
            color: #c2e7ff;
            margin-bottom: 8px;
        }

        .equipment-status {
            font-size: 0.85rem;
            padding: 5px 10px;
            border-radius: 20px;
            background: rgba(46, 204, 113, 0.2);
            color: #2ecc71;
            border: 1px solid rgba(46, 204, 113, 0.3);
        }

        .equipment-status.offline {
            background: rgba(231, 76, 60, 0.2);
            color: #e74c3c;
            border-color: rgba(231, 76, 60, 0.3);
        }

        .experiment-procedures {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 30px;
        }

        .procedure-step {
            display: flex;
            align-items: center;
            background: rgba(0, 30, 80, 0.4);
            border-radius: 10px;
            padding: 15px;
            border: 1px solid rgba(0, 100, 255, 0.1);
            transition: all 0.3s ease;
        }

        .procedure-step:hover {
            border-color: rgba(0, 168, 255, 0.3);
        }

        .step-number {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #0066ff, #00a8ff);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2rem;
            margin-left: 15px;
            flex-shrink: 0;
        }

        .step-content {
            flex: 1;
        }

        .step-title {
            font-weight: bold;
            color: #ffffff;
            margin-bottom: 5px;
        }

        .step-description {
            font-size: 0.9rem;
            color: #a0d2db;
        }

        .parameter-controls {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .parameter-group {
            margin-bottom: 15px;
        }

        .param-label {
            display: block;
            margin-bottom: 8px;
            color: #c2e7ff;
            font-weight: 500;
        }

        .slider-container {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .slider-container input[type="range"] {
            flex: 1;
            height: 8px;
            -webkit-appearance: none;
            background: rgba(0, 30, 80, 0.7);
            border-radius: 10px;
            outline: none;
        }

        .slider-container input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 22px;
            height: 22px;
            background: linear-gradient(135deg, #0066ff, #00a8ff);
            border-radius: 50%;
            cursor: pointer;
            border: 2px solid white;
        }

        .param-value {
            min-width: 50px;
            text-align: center;
            background: rgba(0, 100, 255, 0.2);
            padding: 5px 10px;
            border-radius: 5px;
            color: #4bcffa;
            font-weight: bold;
            border: 1px solid rgba(0, 100, 255, 0.3);
        }

        .lab-visualization {
            background: rgba(0, 20, 60, 0.7);
            border-radius: 15px;
            padding: 25px;
            border: 1px solid rgba(0, 100, 255, 0.2);
            box-shadow: 0 8px 25px rgba(0, 50, 150, 0.2);
        }

        .lab-visual {
            height: 300px;
            background: rgba(0, 10, 30, 0.8);
            border-radius: 10px;
            margin-bottom: 25px;
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(0, 100, 255, 0.2);
        }

        .laser-beam {
            position: absolute;
            top: 50%;
            right: 30px;
            width: 200px;
            height: 5px;
            background: linear-gradient(90deg, rgba(255, 0, 0, 0), rgba(255, 0, 0, 0.8), rgba(255, 0, 0, 0));
            transform: translateY(-50%);
            box-shadow: 0 0 20px rgba(255, 0, 0, 0.5);
            transition: all 0.5s ease;
            z-index: 2;
        }

        .bulk-medium {
            position: absolute;
            top: 50%;
            right: 230px;
            width: 300px;
            height: 200px;
            transform: translateY(-50%);
            background: radial-gradient(circle, rgba(0, 100, 255, 0.2), rgba(0, 50, 150, 0.3), rgba(0, 20, 60, 0.5));
            border-radius: 10px;
            border: 1px solid rgba(0, 100, 255, 0.3);
            transition: all 0.5s ease;
            z-index: 1;
        }

        .boundary-sensor {
            position: absolute;
            top: 50%;
            left: 50px;
            width: 150px;
            height: 80px;
            transform: translateY(-50%);
            background: rgba(0, 60, 30, 0.5);
            border-radius: 10px;
            border: 1px solid rgba(46, 204, 113, 0.4);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: #2ecc71;
            font-weight: bold;
            box-shadow: 0 0 20px rgba(46, 204, 113, 0.3);
            transition: all 0.5s ease;
            z-index: 3;
        }

        .data-stream {
            position: absolute;
            bottom: 20px;
            left: 20px;
            right: 20px;
            background: rgba(0, 10, 30, 0.9);
            border-radius: 8px;
            padding: 15px;
            border: 1px solid rgba(0, 168, 255, 0.3);
            color: #4bcffa;
            font-size: 0.9rem;
            z-index: 4;
        }

        .experiment-results {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 30px;
        }

        @media (max-width: 768px) {
            .experiment-results {
                grid-template-columns: 1fr;
            }
        }

        .result-metric {
            background: rgba(0, 30, 80, 0.5);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            border: 1px solid rgba(0, 100, 255, 0.2);
            transition: all 0.3s ease;
        }

        .result-metric:hover {
            transform: translateY(-5px);
            border-color: rgba(0, 168, 255, 0.4);
            box-shadow: 0 5px 15px rgba(0, 100, 255, 0.2);
        }

        .metric-name {
            font-size: 0.95rem;
            color: #c2e7ff;
            margin-bottom: 10px;
        }

        .metric-value {
            font-size: 2.5rem;
            font-weight: bold;
            color: #ffffff;
            margin-bottom: 5px;
        }

        .metric-unit {
            font-size: 0.9rem;
            color: #4bcffa;
        }

        .control-buttons {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 20px;
        }

        @media (max-width: 768px) {
            .control-buttons {
                grid-template-columns: 1fr;
            }
        }

        .control-btn {
            padding: 15px;
            border-radius: 10px;
            border: none;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .control-btn.success {
            background: linear-gradient(135deg, #2ecc71, #27ae60);
            color: white;
        }

        .control-btn.success:hover {
            background: linear-gradient(135deg, #27ae60, #219a52);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(46, 204, 113, 0.3);
        }

        .control-btn {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
        }

        .control-btn:hover {
            background: linear-gradient(135deg, #2980b9, #21618c);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.3);
        }

        .control-btn.warning {
            background: linear-gradient(135deg, #f39c12, #e67e22);
            color: white;
        }

        .control-btn.warning:hover {
            background: linear-gradient(135deg, #e67e22, #d35400);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(243, 156, 18, 0.3);
        }

        .control-btn.secondary {
            background: linear-gradient(135deg, #6c5ce7, #5b4fcf);
            color: white;
        }

        .control-btn.secondary:hover {
            background: linear-gradient(135deg, #5b4fcf, #4a3fad);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(108, 92, 231, 0.3);
        }

        .ai-analysis-panel {
            background: rgba(0, 20, 60, 0.8);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            border: 1px solid rgba(0, 168, 255, 0.3);
            box-shadow: 0 10px 30px rgba(0, 50, 150, 0.2);
        }

        .ai-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(0, 168, 255, 0.2);
        }

        .ai-icon {
            font-size: 2rem;
            color: #00a8ff;
        }

        .ai-title {
            font-size: 1.8rem;
            color: #ffffff;
            background: linear-gradient(90deg, #ffffff, #00a8ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .analysis-content {
            height: 400px;
            overflow-y: auto;
            padding: 20px;
            background: rgba(0, 10, 30, 0.6);
            border-radius: 10px;
            margin-bottom: 20px;
            border: 1px solid rgba(0, 100, 255, 0.2);
        }

        .analysis-message {
            margin-bottom: 20px;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .message-header {
            padding: 10px 15px;
            border-radius: 10px 10px 0 0;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .ai-message-header {
            background: rgba(0, 100, 255, 0.3);
            color: #4bcffa;
        }

        .user-message-header {
            background: rgba(46, 204, 113, 0.3);
            color: #2ecc71;
        }

        .message-content {
            padding: 15px;
            background: rgba(0, 20, 60, 0.5);
            border-radius: 0 0 10px 10px;
            line-height: 1.7;
        }

        .typing-indicator {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 15px;
            color: #4bcffa;
            font-style: italic;
        }

        .typing-dot {
            width: 10px;
            height: 10px;
            background: #4bcffa;
            border-radius: 50%;
            animation: typingDot 1.5s infinite ease-in-out;
        }

        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes typingDot {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-10px); }
        }

        .ai-suggestions {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }

        @media (max-width: 768px) {
            .ai-suggestions {
                grid-template-columns: 1fr;
            }
        }

        .suggestion-btn {
            background: rgba(0, 100, 255, 0.2);
            border: 1px solid rgba(0, 100, 255, 0.3);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            color: #c2e7ff;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .suggestion-btn:hover {
            background: rgba(0, 100, 255, 0.3);
            border-color: rgba(0, 168, 255, 0.5);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 100, 255, 0.2);
        }

        .api-config-section {
            background: rgba(0, 30, 80, 0.6);
            border-radius: 10px;
            padding: 20px;
            margin: 25px 0;
            border: 1px solid rgba(0, 100, 255, 0.3);
            box-shadow: 0 5px 15px rgba(0, 100, 255, 0.1);
        }

        .api-input-group {
            display: flex;
            gap: 10px;
            align-items: center;
            margin-bottom: 15px;
        }

        .api-input {
            flex: 1;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(0, 100, 255, 0.3);
            border-radius: 8px;
            padding: 12px 15px;
            color: white;
            font-size: 0.95rem;
            font-family: monospace;
            transition: all 0.3s ease;
        }

        .api-input:focus {
            outline: none;
            border-color: #00a8ff;
            box-shadow: 0 0 20px rgba(0, 168, 255, 0.3);
        }

        .api-info {
            font-size: 0.85rem;
            color: #a0d2db;
            line-height: 1.5;
            margin-top: 10px;
        }

        .api-info a {
            color: #4bcffa;
            text-decoration: none;
        }

        .api-info a:hover {
            text-decoration: underline;
        }

        .api-status {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-top: 10px;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 0.9rem;
        }

        .api-connected {
            background: rgba(46, 204, 113, 0.2);
            border: 1px solid rgba(46, 204, 113, 0.3);
            color: #2ecc71;
        }

        .api-disconnected {
            background: rgba(231, 76, 60, 0.2);
            border: 1px solid rgba(231, 76, 60, 0.3);
            color: #e74c3c;
        }

        .footer {
            text-align: center;
            padding: 30px;
            background: rgba(0, 20, 60, 0.7);
            border-radius: 15px;
            margin-top: 30px;
            border: 1px solid rgba(0, 100, 255, 0.2);
        }

        .researcher-signature {
            margin-bottom: 20px;
            padding: 20px;
            background: rgba(0, 30, 80, 0.4);
            border-radius: 10px;
            border: 1px solid rgba(0, 100, 255, 0.3);
        }

        .signature-text {
            color: #a0d2db;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .researcher-name-footer {
            font-size: 1.5rem;
            color: #ffffff;
            font-weight: bold;
            letter-spacing: 1px;
        }
    </style>
</head>
<body>
    <!-- Ø´Ø§Ø´Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ -->
    <div class="loading-overlay" id="loading-overlay">
        <div class="lab-spinner"></div>
        <div class="loading-text" id="loading-text">Ø¬Ø§Ø±ÙŠ Ø¥Ø¹Ø¯Ø§Ø¯ Ù…Ø®ØªØ¨Ø± OBD...</div>
    </div>

    <div class="container">
        <!-- Ø±Ø£Ø³ Ø§Ù„Ù…Ø®ØªØ¨Ø± -->
        <div class="lab-header">
            <div class="researcher-badge">
                <i class="fas fa-user-tie"></i> Ø¨Ø§Ø­Ø« Ø±Ø¦ÙŠØ³ÙŠ
            </div>
            <div class="lab-badge">
                <i class="fas fa-flask"></i> Ù…Ø®ØªØ¨Ø± OBD ØªØ¬Ø±ÙŠØ¨ÙŠ
            </div>
            <div class="ai-lab-badge">
                <i class="fas fa-robot"></i> Ù…Ø¯Ø¹ÙˆÙ… Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
            </div>
            <div class="system-badge">
                <i class="fas fa-atom"></i> Ù†Ø¸Ø§Ù… ÙƒÙ…ÙŠ Ù…ØªÙ‚Ø¯Ù…
            </div>

            <h1 class="research-title">Ù…Ø®ØªØ¨Ø± Observable Boundary Dynamics (OBD)</h1>
            <p class="lab-subtitle">Ù†Ø¸Ø§Ù… Ù…Ø­Ø§ÙƒØ§Ø© Ù…ØªÙ‚Ø¯Ù… Ù„Ù„Ø¨Ø­Ø« Ø§Ù„Ø¹Ù„Ù…ÙŠ Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ</p>

            <div class="researcher-info">Ø¥Ø´Ø±Ø§Ù: Ø§Ù„Ø¨Ø§Ø­Ø«</div>
            <div class="researcher-title">Ammar Nasir Hussein al-mantafji</div>

            <div class="research-description">
                Ù…Ø®ØªØ¨Ø± OBD Ù‡Ùˆ Ù†Ø¸Ø§Ù… Ù…Ø­Ø§ÙƒØ§Ø© Ù…ØªÙ‚Ø¯Ù… ÙŠØ·Ø¨Ù‚ Ø£Ø¨Ø­Ø§Ø« Observable Boundary Dynamics Ø§Ù„ØªÙŠ ØªØ¯Ø±Ø³ Ø§Ù†ØªÙ‚Ø§Ù„ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª
                Ù…Ù† "Ø§Ù„Ø¯Ø§Ø®Ù„" (Bulk) Ø¥Ù„Ù‰ "Ø§Ù„Ø­Ø¯ÙˆØ¯" (Boundary) ÙÙŠ Ø§Ù„Ø£Ù†Ø¸Ù…Ø© Ø§Ù„Ù‡ÙˆÙ„ÙˆØºØ±Ø§ÙÙŠØ©. Ù‡Ø°Ø§ Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØ¯Ù…Ø¬ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
                Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ ÙˆÙ…Ù‚Ø§Ø±Ù†ØªÙ‡Ø§ Ø¨Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠ Ø§Ù„Ø£ØµÙ„ÙŠ.
            </div>
        </div>

        <!-- Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø®ØªØ¨Ø± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ -->
        <div class="lab-system">
            <!-- Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… -->
            <div class="lab-control-panel">
                <h2 class="section-title"><i class="fas fa-sliders-h"></i> Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø®ØªØ¨Ø±</h2>

                <!-- Ù‚Ø³Ù… Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª API -->
                <div class="api-config-section">
                    <h3 class="subsection-title"><i class="fas fa-key"></i> Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</h3>

                    <div class="api-input-group">
                        <input type="password" id="api-key-input" class="api-input"
                               placeholder="Ø£Ø¯Ø®Ù„ Ù…ÙØªØ§Ø­ OpenRouter API Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ"
                               value="">
                        <button class="control-btn success" onclick="saveAPIKey()" style="padding: 12px 20px; font-size: 0.9rem;">
                            <i class="fas fa-save"></i> Ø­ÙØ¸
                        </button>
                    </div>

                    <div id="api-status" class="api-status api-disconnected">
                        <i class="fas fa-exclamation-circle"></i>
                        <span>ØºÙŠØ± Ù…ØªØµÙ„ Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</span>
                    </div>

                    <div class="api-info">
                        <i class="fas fa-info-circle"></i>
                        Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…ÙØªØ§Ø­ API Ù…Ø¬Ø§Ù†ÙŠ:
                        <br>
                        1. ØªÙØ¶Ù„ Ø¥Ù„Ù‰ <a href="https://openrouter.ai" target="_blank">OpenRouter.ai</a>
                        <br>
                        2. Ø³Ø¬Ù„ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯ (Ù…Ø¬Ø§Ù†ÙŠ)
                        <br>
                        3. Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ù…ÙØªØ§Ø­ API Ù…Ù† ØµÙØ­Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
                        <br>
                        4. Ø£Ø¯Ø®Ù„ Ø§Ù„Ù…ÙØªØ§Ø­ Ù‡Ù†Ø§ Ù„ØªÙØ¹ÙŠÙ„ Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø°ÙƒÙŠ
                    </div>
                </div>

                <!-- Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ -->
                <div class="parameter-group" style="margin-top: 20px;">
                    <label class="param-label">Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ:</label>
                    <select id="ai-model-select" class="api-input" style="width: 100%; padding: 10px;">
                        <option value="openai/gpt-3.5-turbo">GPT-3.5 Turbo (Ø³Ø±ÙŠØ¹ ÙˆÙ…Ù†Ø®ÙØ¶ Ø§Ù„ØªÙƒÙ„ÙØ©)</option>
                        <option value="openai/gpt-4">GPT-4 (Ø£ÙƒØ«Ø± Ø¯Ù‚Ø©)</option>
                        <option value="anthropic/claude-3-haiku">Claude 3 Haiku</option>
                        <option value="google/gemini-pro">Gemini Pro</option>
                        <option value="meta-llama/llama-3-70b-instruct">Llama 3 70B</option>
                    </select>
                </div>

                <h3 class="subsection-title"><i class="fas fa-microscope"></i> Ù…Ø¹Ø¯Ø§Øª Ø§Ù„Ù…Ø®ØªØ¨Ø±</h3>
                <div class="lab-equipment">
                    <div class="equipment-card" id="laser-equipment">
                        <div class="equipment-icon">
                            <i class="fas fa-satellite-dish"></i>
                        </div>
                        <div class="equipment-name">Ù…ØµØ¯Ø± Ù„ÙŠØ²Ø± Ù…ØªÙ…Ø§Ø³Ùƒ</div>
                        <div class="equipment-status" id="laser-status">ğŸŸ¢ Ø¬Ø§Ù‡Ø²</div>
                    </div>

                    <div class="equipment-card" id="scrambler-equipment">
                        <div class="equipment-icon">
                            <i class="fas fa-cube"></i>
                        </div>
                        <div class="equipment-name">ÙˆØ³Ø· Ø§Ù„ØªØ´ØªÙŠØª (Bulk)</div>
                        <div class="equipment-status" id="scrambler-status">ğŸŸ¢ Ù†Ø´Ø·</div>
                    </div>

                    <div class="equipment-card" id="sensor-equipment">
                        <div class="equipment-icon">
                            <i class="fas fa-satellite"></i>
                        </div>
                        <div class="equipment-name">Ù…Ø³ØªØ´Ø¹Ø± Ø§Ù„Ø­Ø¯ÙˆØ¯</div>
                        <div class="equipment-status" id="sensor-status">ğŸŸ¢ ÙŠØ¹Ù…Ù„</div>
                    </div>

                    <div class="equipment-card" id="ai-processor">
                        <div class="equipment-icon">
                            <i class="fas fa-brain"></i>
                        </div>
                        <div class="equipment-name">Ù…Ø¹Ø§Ù„Ø¬ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</div>
                        <div class="equipment-status" id="ai-status">ğŸ”´ ØºÙŠØ± Ù…ØªØµÙ„</div>
                    </div>
                </div>

                <!-- Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„ØªØ¬Ø±Ø¨Ø© -->
                <h3 class="subsection-title"><i class="fas fa-vial"></i> Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„ØªØ¬Ø±Ø¨Ø©</h3>
                <div class="experiment-procedures">
                    <div class="procedure-step" id="step-1">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <div class="step-title">Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¹ÙŠÙ†Ø©</div>
                            <div class="step-description">ØªØ­Ø¶ÙŠØ± ÙˆØ³Ø· Ø§Ù„ØªØ´ØªÙŠØª Ø¹Ø§Ù„ÙŠ Ø§Ù„Ø¥Ù†ØªØ±ÙˆØ¨ÙŠØ§</div>
                        </div>
                    </div>

                    <div class="procedure-step" id="step-2">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <div class="step-title">Ø­Ù‚Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</div>
                            <div class="step-description">ØªØ±Ù…ÙŠØ² Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª ÙÙŠ Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„ÙƒÙ…ÙˆÙ…ÙŠØ© Ø§Ù„Ø£ÙˆÙ„ÙŠØ©</div>
                        </div>
                    </div>

                    <div class="procedure-step" id="step-3">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <div class="step-title">Ø§Ù„ØªØ´ØªÙŠØª Ø§Ù„ÙˆØ­Ø¯ÙˆÙŠ</div>
                            <div class="step-description">ØªÙØ¹ÙŠÙ„ Ù…ØµÙÙˆÙØ© Ø§Ù„ØªØ´ØªÙŠØª U(t)</div>
                        </div>
                    </div>

                    <div class="procedure-step" id="step-4">
                        <div class="step-number">4</div>
                        <div class="step-content">
                            <div class="step-title">Ø§Ù„Ø§Ø³ØªØ´Ø¹Ø§Ø± ÙˆØ§Ù„ØªØ­Ù„ÙŠÙ„</div>
                            <div class="step-description">Ù‚Ø±Ø§Ø¡Ø© Ø£Ù†Ù…Ø§Ø· Ø§Ù„ØªØ¯Ø§Ø®Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ø­Ø¯ÙˆØ¯</div>
                        </div>
                    </div>
                </div>

                <!-- Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ø§Ù„ØªØ¬Ø±Ø¨Ø© -->
                <h3 class="subsection-title"><i class="fas fa-tachometer-alt"></i> Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ø§Ù„ØªØ¬Ø±Ø¨Ø©</h3>
                <div class="parameter-controls">
                    <div class="parameter-group">
                        <label class="param-label">Ø´Ø¯Ø© Ø§Ù„Ù„ÙŠØ²Ø± (mW)</label>
                        <div class="slider-container">
                            <input type="range" id="laser-power" min="1" max="100" value="50">
                            <span class="param-value" id="laser-power-value">50</span>
                        </div>
                    </div>

                    <div class="parameter-group">
                        <label class="param-label">Ø¥Ù†ØªØ±ÙˆØ¨ÙŠØ§ Ø§Ù„ÙˆØ³Ø·</label>
                        <div class="slider-container">
                            <input type="range" id="medium-entropy" min="1" max="100" value="75">
                            <span class="param-value" id="entropy-value">75</span>
                        </div>
                    </div>

                    <div class="parameter-group">
                        <label class="param-label">Ø²Ù…Ù† Ø§Ù„ØªØ´ØªÙŠØª (ms)</label>
                        <div class="slider-container">
                            <input type="range" id="scramble-time" min="1" max="1000" value="500">
                            <span class="param-value" id="time-value">500</span>
                        </div>
                    </div>

                    <div class="parameter-group">
                        <label class="param-label">Ø¶ÙˆØ¶Ø§Ø¡ Ø§Ù„Ù…Ø­ÙŠØ· (dB)</label>
                        <div class="slider-container">
                            <input type="range" id="noise-level" min="0" max="100" value="25">
                            <span class="param-value" id="noise-value">25</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Ø§Ù„ØªØµÙˆØ± Ø§Ù„Ù…Ø±Ø¦ÙŠ ÙˆØ§Ù„Ù†ØªØ§Ø¦Ø¬ -->
            <div class="lab-visualization">
                <h2 class="section-title"><i class="fas fa-chart-line"></i> Ø§Ù„ØªØµÙˆØ± Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ</h2>

                <!-- Ø§Ù„ØªØµÙˆØ± Ø§Ù„Ù…Ø±Ø¦ÙŠ Ù„Ù„Ù…Ø®ØªØ¨Ø± -->
                <div class="lab-visual">
                    <div class="laser-beam" id="laser-beam"></div>
                    <div class="bulk-medium" id="bulk-medium"></div>
                    <div class="boundary-sensor" id="boundary-sensor">
                        <i class="fas fa-wifi"></i> Ù…Ø³ØªØ´Ø¹Ø± Ø§Ù„Ø­Ø¯ÙˆØ¯
                    </div>
                    <div class="data-stream" id="data-stream">
                        <div>ğŸ“Š ØªÙŠØ§Ø± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­ÙŠ:</div>
                        <div id="stream-content">Ø¬Ø§Ø±ÙŠ Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...</div>
                    </div>
                </div>

                <!-- Ù†ØªØ§Ø¦Ø¬ Ø§Ù„ØªØ¬Ø±Ø¨Ø© -->
                <h3 class="subsection-title"><i class="fas fa-clipboard-list"></i> Ù‚ÙŠØ§Ø³Ø§Øª Ø§Ù„Ù†ØªØ§Ø¦Ø¬</h3>
                <div class="experiment-results">
                    <div class="result-metric">
                        <div class="metric-name">Ø±Ø¤ÙŠØ© Ø§Ù„Ø¯Ø§Ø®Ù„</div>
                        <div class="metric-value" id="bulk-visibility">0.0</div>
                        <div class="metric-unit">%</div>
                    </div>

                    <div class="result-metric">
                        <div class="metric-name">Ø§Ø±ØªØ¨Ø§Ø· Ø§Ù„Ø­Ø¯ÙˆØ¯</div>
                        <div class="metric-value" id="boundary-correlation">0.00</div>
                        <div class="metric-unit">Ù…Ø¹Ø§Ù…Ù„</div>
                    </div>

                    <div class="result-metric">
                        <div class="metric-name">Ø¯Ù‚Ø© Ø§Ù„Ø§Ø³ØªØ±Ø¯Ø§Ø¯</div>
                        <div class="metric-value" id="recovery-fidelity">0.0</div>
                        <div class="metric-unit">%</div>
                    </div>

                    <div class="result-metric">
                        <div class="metric-name">Ø£Ø³ Ù„ÙŠØ§Ø¨Ø§Ù†ÙˆÙ</div>
                        <div class="metric-value" id="lyapunov-exponent">0.00</div>
                        <div class="metric-unit">Î»<sub>L</sub></div>
                    </div>
                </div>

                <!-- Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… -->
                <div class="control-buttons">
                    <button class="control-btn success" onclick="runExperiment()">
                        <i class="fas fa-play-circle"></i> ØªØ´ØºÙŠÙ„ Ø§Ù„ØªØ¬Ø±Ø¨Ø©
                    </button>

                    <button class="control-btn" onclick="analyzeResults()">
                        <i class="fas fa-brain"></i> ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù†ØªØ§Ø¦Ø¬
                    </button>

                    <button class="control-btn warning" onclick="generateReport()">
                        <i class="fas fa-file-alt"></i> ØªÙ‚Ø±ÙŠØ± Ù…ÙØµÙ„
                    </button>

                    <button class="control-btn secondary" onclick="resetExperiment()">
                        <i class="fas fa-redo"></i> Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ†
                    </button>
                </div>
            </div>
        </div>

        <!-- Ù„ÙˆØ­Ø© ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ -->
        <div class="ai-analysis-panel">
            <div class="ai-header">
                <i class="fas fa-robot ai-icon"></i>
                <h2 class="ai-title">Ù…Ø­Ù„Ù„ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ù„Ù„Ù…Ø®ØªØ¨Ø±</h2>
            </div>

            <div class="analysis-content" id="ai-analysis-content">
                <div class="analysis-message message-ai">
                    <div class="message-header ai-message-header">
                        <i class="fas fa-robot"></i> Ù…Ø³Ø§Ø¹Ø¯ OBD
                    </div>
                    <div class="message-content">
                        Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù…Ø®ØªØ¨Ø± OBD Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ! Ø£Ù†Ø§ Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ø§Ù„Ù…ØªØ®ØµØµ ÙÙŠ ØªØ­Ù„ÙŠÙ„ Ù†ØªØ§Ø¦Ø¬ ØªØ¬Ø§Ø±Ø¨ Observable Boundary Dynamics.
                        <br><br>
                        ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ ÙÙŠ:
                        <br>â€¢ ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù‚ÙŠØ§Ø³Ø§Øª Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠØ©
                        <br>â€¢ ØªÙØ³ÙŠØ± Ø§Ù„Ù†ØªØ§Ø¦Ø¬ ÙˆÙÙ‚ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ù†Ø¸Ø±ÙŠ
                        <br>â€¢ Ø§Ù‚ØªØ±Ø§Ø­ ØªØ­Ø³ÙŠÙ†Ø§Øª Ù„Ù„ØªØ¬Ø±Ø¨Ø©
                        <br>â€¢ ÙƒØªØ§Ø¨Ø© ØªÙ‚Ø§Ø±ÙŠØ± Ø¹Ù„Ù…ÙŠØ© Ù…ÙØµÙ„Ø©
                        <br><br>
                        âš ï¸ <strong>Ù„Ù„Ø¨Ø¯Ø¡:</strong> Ø£Ø¯Ø®Ù„ Ù…ÙØªØ§Ø­ OpenRouter API ÙÙŠ Ù‚Ø³Ù… Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø£Ø¹Ù„Ø§Ù‡.
                    </div>
                </div>
            </div>

            <!-- Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ø³Ø±ÙŠØ¹Ø© -->
            <div class="ai-suggestions">
                <div class="suggestion-btn" onclick="askAI('Ø­Ù„Ù„ Ù†ØªØ§Ø¦Ø¬ Ø§Ù„ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ© ÙˆÙÙ‚ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ù†Ø¸Ø±ÙŠ OBD')">
                    ğŸ“Š ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø­Ø§Ù„ÙŠØ©
                </div>
                <div class="suggestion-btn" onclick="askAI('Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ø¹ÙˆØ§Ù…Ù„ Ø§Ù„Ù…Ø¤Ø«Ø±Ø© Ø¹Ù„Ù‰ Ø£Ø³ Ù„ÙŠØ§Ø¨Ø§Ù†ÙˆÙ ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„ØªØ¬Ø±Ø¨Ø©ØŸ')">
                    ğŸ”¬ ØªÙØ³ÙŠØ± Ø£Ø³ Ù„ÙŠØ§Ø¨Ø§Ù†ÙˆÙ
                </div>
                <div class="suggestion-btn" onclick="askAI('Ø§Ù‚ØªØ±Ø­ ØªØ­Ø³ÙŠÙ†Ø§Øª Ù„Ø²ÙŠØ§Ø¯Ø© Ø¯Ù‚Ø© Ø§Ù„Ø§Ø³ØªØ±Ø¯Ø§Ø¯')">
                    âš¡ Ø§Ù‚ØªØ±Ø§Ø­ ØªØ­Ø³ÙŠÙ†Ø§Øª
                </div>
                <div class="suggestion-btn" onclick="askAI('Ù‚Ø§Ø±Ù† Ø¨ÙŠÙ† Ù‡Ø°Ù‡ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ ÙˆØ§Ù„Ù†ØªØ§Ø¦Ø¬ ÙÙŠ Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø£ØµÙ„ÙŠ')">
                    ğŸ“ˆ Ù…Ù‚Ø§Ø±Ù†Ø© Ù…Ø¹ Ø§Ù„Ø¨Ø­Ø«
                </div>
            </div>
        </div>

        <!-- ØªØ°ÙŠÙŠÙ„ Ø§Ù„ØµÙØ­Ø© -->
        <div class="footer">
            <div class="researcher-signature">
                <div class="signature-text">ØªÙ… ØªØ·ÙˆÙŠØ± Ù‡Ø°Ø§ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø¨Ø­Ø«ÙŠ Ø§Ù„Ù…ØªÙ‚Ø¯Ù… ØªØ­Øª Ø¥Ø´Ø±Ø§Ù:</div>
                <div class="researcher-name-footer">Ø§Ù„Ø¨Ø§Ø­Ø« Ammar Nasir Hussein al-mantafji</div>
            </div>

            <p style="margin-top: 30px;">Â© 2026 Ù…Ø®ØªØ¨Ø± OBD Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ Ø§Ù„Ù…ØªÙ‚Ø¯Ù… - Ù†Ø¸Ø§Ù… Ø¨Ø­Ø«ÙŠ ÙƒÙ…ÙŠ Ù‡ÙˆÙ„ÙˆØºØ±Ø§ÙÙŠ</p>
            <p style="margin-top: 15px; color: #4bcffa;">
                <i class="fas fa-exclamation-circle"></i>
                Ù‡Ø°Ø§ Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØ­Ø§ÙƒÙŠ Ø§Ù„ØªØ¬Ø§Ø±Ø¨ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ© ÙÙŠ Ù…Ø®ØªØ¨Ø± OBD Ù…Ø¹ ØªØ­Ù„ÙŠÙ„ Ø°ÙƒÙŠ Ù„Ù„Ù†ØªØ§Ø¦Ø¬ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
            </p>
            <p style="margin-top: 10px; font-size: 0.9rem; color: #7bd5ff;">
                Ø§Ù„Ù…Ø±Ø¬Ø¹ Ø§Ù„Ø¨Ø­Ø«ÙŠ: OBD_New29_1_2026.pdf - Ø¨Ø­Ø« Observable Boundary Dynamics
            </p>
        </div>
    </div>

    <script>
        // Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…
        let experimentResults = null;
        let apiKey = localStorage.getItem('obd_lab_api_key') || '';
        let aiModel = 'openai/gpt-3.5-turbo';
        let chatHistory = [];

        // Ø¹Ù†Ø§ØµØ± DOM
        const loadingOverlay = document.getElementById('loading-overlay');
        const loadingText = document.getElementById('loading-text');
        const aiAnalysisContent = document.getElementById('ai-analysis-content');
        const dataStreamContent = document.getElementById('stream-content');
        const apiKeyInput = document.getElementById('api-key-input');
        const apiStatusElement = document.getElementById('api-status');
        const aiModelSelect = document.getElementById('ai-model-select');

        // Ø¹Ù†Ø§ØµØ± Ù‚ÙŠÙ… Ø§Ù„Ù…Ù†Ø²Ù„Ù‚Ø§Øª
        const laserPowerValue = document.getElementById('laser-power-value');
        const entropyValue = document.getElementById('entropy-value');
        const timeValue = document.getElementById('time-value');
        const noiseValue = document.getElementById('noise-value');

        // Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù…Ù†Ø²Ù„Ù‚Ø§Øª
        const laserPowerSlider = document.getElementById('laser-power');
        const mediumEntropySlider = document.getElementById('medium-entropy');
        const scrambleTimeSlider = document.getElementById('scramble-time');
        const noiseLevelSlider = document.getElementById('noise-level');

        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù†Ø¸Ø§Ù…
        document.addEventListener('DOMContentLoaded', function() {
            showLoading('Ø¬Ø§Ø±ÙŠ Ø¥Ø¹Ø¯Ø§Ø¯ Ù…Ø®ØªØ¨Ø± OBD...');

            // ØªÙ‡ÙŠØ¦Ø© API Key
            if (apiKey) {
                apiKeyInput.value = 'â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢';
                updateAPIStatus(true);
                updateEquipmentStatus('ai-processor', 'ğŸŸ¢ Ù…ØªØµÙ„');
            } else {
                updateAPIStatus(false);
                updateEquipmentStatus('ai-processor', 'ğŸ”´ ØºÙŠØ± Ù…ØªØµÙ„');
            }

            // ØªÙ‡ÙŠØ¦Ø© Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
            aiModelSelect.value = aiModel;
            aiModelSelect.addEventListener('change', function() {
                aiModel = this.value;
                localStorage.setItem('obd_ai_model', aiModel);
                showNotification(`ØªÙ… ØªØºÙŠÙŠØ± Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø¥Ù„Ù‰: ${this.selectedOptions[0].text}`);
            });

            // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ù…Ø­ÙÙˆØ¸
            const savedModel = localStorage.getItem('obd_ai_model');
            if (savedModel) {
                aiModel = savedModel;
                aiModelSelect.value = savedModel;
            }

            // Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªÙ…Ø¹ÙŠ Ø£Ø­Ø¯Ø§Ø« Ù„Ù„Ù…Ù†Ø²Ù„Ù‚Ø§Øª
            laserPowerSlider.addEventListener('input', function() {
                laserPowerValue.textContent = this.value;
                updateVisualization();
            });

            mediumEntropySlider.addEventListener('input', function() {
                entropyValue.textContent = this.value;
                updateVisualization();
            });

            scrambleTimeSlider.addEventListener('input', function() {
                timeValue.textContent = this.value;
                updateVisualization();
            });

            noiseLevelSlider.addEventListener('input', function() {
                noiseValue.textContent = this.value;
                updateVisualization();
            });

            // ØªØ´ØºÙŠÙ„ Ø§Ù„ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù…Ø±Ø¦ÙŠØ©
            initializeVisualization();

            // Ø¨Ø¯Ø¡ Ù…Ø­Ø§ÙƒØ§Ø© Ø£ÙˆÙ„ÙŠØ© Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„
            setTimeout(() => {
                hideLoading();
                runInitialDemo();
            }, 2000);
        });

        // ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© API
        function updateAPIStatus(isConnected) {
            if (isConnected) {
                apiStatusElement.className = 'api-status api-connected';
                apiStatusElement.innerHTML = '<i class="fas fa-check-circle"></i> <span>Ù…ØªØµÙ„ Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</span>';
                updateEquipmentStatus('ai-processor', 'ğŸŸ¢ Ù…ØªØµÙ„');
            } else {
                apiStatusElement.className = 'api-status api-disconnected';
                apiStatusElement.innerHTML = '<i class="fas fa-exclamation-circle"></i> <span>ØºÙŠØ± Ù…ØªØµÙ„ Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</span>';
                updateEquipmentStatus('ai-processor', 'ğŸ”´ ØºÙŠØ± Ù…ØªØµÙ„');
            }
        }

        // Ø­ÙØ¸ Ù…ÙØªØ§Ø­ API
        function saveAPIKey() {
            const key = apiKeyInput.value.trim();

            if (!key) {
                showNotification('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ù…ÙØªØ§Ø­ API');
                return;
            }

            // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙŠØ¯Ø®Ù„ Ù…ÙØªØ§Ø­Ø§Ù‹ Ø¬Ø¯ÙŠØ¯Ø§Ù‹ (ÙˆÙ„ÙŠØ³ Ø§Ù„Ù†Ù‚Ø§Ø·)
            if (key !== 'â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢') {
                apiKey = key;
                localStorage.setItem('obd_lab_api_key', key);

                // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù…ÙØªØ§Ø­
                apiKeyInput.value = 'â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢';
                apiKeyInput.type = 'password';

                updateAPIStatus(true);
                showNotification('ØªÙ… Ø­ÙØ¸ Ù…ÙØªØ§Ø­ API Ø¨Ù†Ø¬Ø§Ø­');

                // Ø¥Ø¶Ø§ÙØ© Ø±Ø³Ø§Ù„Ø© ØªØ±Ø­ÙŠØ¨ÙŠØ©
                addAIMessage('ØªÙ… Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù†Ø¬Ø§Ø­ Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ! ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ø§Ù„Ø¢Ù† Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ ÙÙŠ ØªØ­Ù„ÙŠÙ„ Ù†ØªØ§Ø¦Ø¬ Ø§Ù„ØªØ¬Ø§Ø±Ø¨.');

                // Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø§ØªØµØ§Ù„
                testAPIConnection();
            } else {
                showNotification('Ø§Ù„Ù…ÙØªØ§Ø­ Ù…Ø­ÙÙˆØ¸ Ø¨Ø§Ù„ÙØ¹Ù„');
            }
        }

        // Ø§Ø®ØªØ¨Ø§Ø± Ø§ØªØµØ§Ù„ API
        async function testAPIConnection() {
            try {
                const response = await axios.post(
                    'https://openrouter.ai/api/v1/chat/completions',
                    {
                        model: aiModel,
                        messages: [
                            {
                                role: "system",
                                content: "Ø£Ù†Øª Ù…Ø³Ø§Ø¹Ø¯ Ù…Ø®ØªØ¨Ø± OBD. Ø£Ø¬Ø¨ Ø¨ÙƒÙ„Ù…Ø© 'Ù…ØªØµÙ„' ÙÙ‚Ø·."
                            },
                            {
                                role: "user",
                                content: "Ù‡Ù„ Ø£Ù†Øª Ù…ØªØµÙ„ØŸ"
                            }
                        ],
                        max_tokens: 10
                    },
                    {
                        headers: {
                            'Authorization': `Bearer ${apiKey}`,
                            'Content-Type': 'application/json'
                        }
                    }
                );
                if (response.data.choices[0].message.content.includes('Ù…ØªØµÙ„')) {
                    showNotification('âœ… ØªÙ… Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§ØªØµØ§Ù„ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ');
                }
            } catch (error) {
                console.warn('Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø§ØªØµØ§Ù„ ÙØ´Ù„:', error.message);
            }
        }

        // Ø¥Ø¸Ù‡Ø§Ø± Ø´Ø§Ø´Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„
        function showLoading(text) {
            loadingText.textContent = text;
            loadingOverlay.classList.add('active');
        }

        // Ø¥Ø®ÙØ§Ø¡ Ø´Ø§Ø´Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„
        function hideLoading() {
            loadingOverlay.classList.remove('active');
        }

        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØªØµÙˆØ± Ø§Ù„Ù…Ø±Ø¦ÙŠ
        function initializeVisualization() {
            updateEquipmentStatus('laser-equipment', 'ğŸŸ¢ Ø¬Ø§Ù‡Ø²');
            updateEquipmentStatus('scrambler-equipment', 'ğŸŸ¢ Ù†Ø´Ø·');
            updateEquipmentStatus('sensor-equipment', 'ğŸŸ¢ ÙŠØ¹Ù…Ù„');

            // ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø®Ø·ÙˆØ§Øª
            updateExperimentStep(1);

            // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØµÙˆØ± Ø§Ù„Ù…Ø±Ø¦ÙŠ Ø§Ù„Ø£ÙˆÙ„ÙŠ
            updateVisualization();
        }

        // ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø¹Ø¯Ø§Øª
        function updateEquipmentStatus(equipmentId, status) {
            const equipment = document.getElementById(equipmentId);
            if (equipment) {
                const statusElement = equipment.querySelector('.equipment-status');
                if (statusElement) {
                    statusElement.textContent = status;

                    if (status.includes('ğŸŸ¢')) {
                        statusElement.classList.remove('offline');
                    } else {
                        statusElement.classList.add('offline');
                    }
                }
            }
        }

        // ØªØ­Ø¯ÙŠØ« Ø®Ø·ÙˆØ© Ø§Ù„ØªØ¬Ø±Ø¨Ø©
        function updateExperimentStep(stepNumber) {
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø®Ø·ÙˆØ§Øª
            for (let i = 1; i <= 4; i++) {
                const step = document.getElementById(`step-${i}`);
                if (step) {
                    step.style.opacity = '0.6';
                    step.style.borderColor = 'rgba(0, 100, 255, 0.1)';
                }
            }

            // ØªÙ…ÙŠÙŠØ² Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„Ø­Ø§Ù„ÙŠØ©
            const currentStep = document.getElementById(`step-${stepNumber}`);
            if (currentStep) {
                currentStep.style.opacity = '1';
                currentStep.style.borderColor = 'rgba(0, 100, 255, 0.3)';
            }
        }

        // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØµÙˆØ± Ø§Ù„Ù…Ø±Ø¦ÙŠ
        function updateVisualization() {
            const laserPower = parseInt(laserPowerSlider.value);
            const entropy = parseInt(mediumEntropySlider.value);
            const noise = parseInt(noiseLevelSlider.value);

            // ØªØ­Ø¯ÙŠØ« Ø´Ø¹Ø§Ø¹ Ø§Ù„Ù„ÙŠØ²Ø±
            const laserBeam = document.getElementById('laser-beam');
            laserBeam.style.width = `${100 + laserPower * 2}px`;
            laserBeam.style.opacity = laserPower / 100;

            // ØªØ­Ø¯ÙŠØ« ÙˆØ³Ø· Ø§Ù„ØªØ´ØªÙŠØª
            const bulkMedium = document.getElementById('bulk-medium');
            const scrambleIntensity = entropy / 100;
            bulkMedium.style.background = `
                radial-gradient(circle,
                    rgba(0, ${100 + entropy}, 255, ${0.1 + scrambleIntensity * 0.2}),
                    rgba(0, ${50 + entropy * 0.5}, 150, ${0.2 + scrambleIntensity * 0.3}),
                    rgba(0, 20, 60, ${0.3 + scrambleIntensity * 0.4})
                )
            `;

            // ØªØ­Ø¯ÙŠØ« ØªÙŠØ§Ø± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            updateDataStream();
        }

        // ØªØ­Ø¯ÙŠØ« ØªÙŠØ§Ø± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        function updateDataStream() {
            const time = new Date();
            const entropy = parseInt(mediumEntropySlider.value);
            const noise = parseInt(noiseLevelSlider.value);

            const dataPoints = [
                `ğŸ•’ ${time.toLocaleTimeString('ar-SA')}`,
                `ğŸ“Š Ø¥Ù†ØªØ±ÙˆØ¨ÙŠØ§: ${entropy}%`,
                `ğŸ”Š Ø¶ÙˆØ¶Ø§Ø¡: ${noise}dB`,
                `ğŸŒ¡ï¸ Ø­Ø±Ø§Ø±Ø©: ${(25 + Math.random() * 5).toFixed(1)}Â°C`,
                `âš¡ Ø·Ø§Ù‚Ø©: ${(Math.random() * 100).toFixed(1)}mW`
            ];

            const randomData = dataPoints[Math.floor(Math.random() * dataPoints.length)];
            dataStreamContent.textContent = randomData;
        }

        // ØªØ´ØºÙŠÙ„ ØªØ¬Ø±Ø¨Ø© Ø£ÙˆÙ„ÙŠØ© ØªÙˆØ¶ÙŠØ­ÙŠØ©
        function runInitialDemo() {
            showLoading('Ø¬Ø§Ø±ÙŠ ØªØ´ØºÙŠÙ„ Ø§Ù„ØªØ¬Ø±Ø¨Ø© Ø§Ù„ØªÙˆØ¶ÙŠØ­ÙŠØ©...');

            setTimeout(() => {
                // Ù…Ø­Ø§ÙƒØ§Ø© Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªØ¬Ø±Ø¨Ø©
                simulateExperimentSteps();

                // Ø­Ø³Ø§Ø¨ Ø§Ù„Ù†ØªØ§Ø¦Ø¬
                calculateResults();

                hideLoading();
            }, 1500);
        }

        // Ù…Ø­Ø§ÙƒØ§Ø© Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªØ¬Ø±Ø¨Ø©
        function simulateExperimentSteps() {
            // Ø§Ù„Ø®Ø·ÙˆØ© 1: Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¹ÙŠÙ†Ø©
            updateExperimentStep(1);
            showNotification('Ø¬Ø§Ø±ÙŠ ØªØ­Ø¶ÙŠØ± ÙˆØ³Ø· Ø§Ù„ØªØ´ØªÙŠØª Ø¹Ø§Ù„ÙŠ Ø§Ù„Ø¥Ù†ØªØ±ÙˆØ¨ÙŠØ§...');

            setTimeout(() => {
                // Ø§Ù„Ø®Ø·ÙˆØ© 2: Ø­Ù‚Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                updateExperimentStep(2);
                showNotification('Ø¬Ø§Ø±ÙŠ ØªØ±Ù…ÙŠØ² Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„ÙƒÙ…ÙˆÙ…ÙŠØ©...');

                setTimeout(() => {
                    // Ø§Ù„Ø®Ø·ÙˆØ© 3: Ø§Ù„ØªØ´ØªÙŠØª Ø§Ù„ÙˆØ­Ø¯ÙˆÙŠ
                    updateExperimentStep(3);
                    showNotification('ØªÙØ¹ÙŠÙ„ Ù…ØµÙÙˆÙØ© Ø§Ù„ØªØ´ØªÙŠØª U(t)...');

                    setTimeout(() => {
                        // Ø§Ù„Ø®Ø·ÙˆØ© 4: Ø§Ù„Ø§Ø³ØªØ´Ø¹Ø§Ø± ÙˆØ§Ù„ØªØ­Ù„ÙŠÙ„
                        updateExperimentStep(4);
                        showNotification('Ù‚Ø±Ø§Ø¡Ø© Ø£Ù†Ù…Ø§Ø· Ø§Ù„ØªØ¯Ø§Ø®Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ø­Ø¯ÙˆØ¯...');

                        // ØªØ´ØºÙŠÙ„ Ø§Ù„ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ù…Ø±Ø¦ÙŠØ©
                        runVisualEffects();

                    }, 800);
                }, 800);
            }, 800);
        }

        // ØªØ´ØºÙŠÙ„ Ø§Ù„ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ù…Ø±Ø¦ÙŠØ©
        function runVisualEffects() {
            const laserBeam = document.getElementById('laser-beam');
            const bulkMedium = document.getElementById('bulk-medium');
            const boundarySensor = document.getElementById('boundary-sensor');

            // ØªØ£Ø«ÙŠØ± Ø§Ù„Ù„ÙŠØ²Ø±
            laserBeam.style.transform = 'scaleX(1.2)';
            laserBeam.style.boxShadow = '0 0 30px rgba(255, 0, 0, 0.8)';

            // ØªØ£Ø«ÙŠØ± Ø§Ù„ØªØ´ØªÙŠØª
            bulkMedium.style.transform = 'scale(1.05)';
            bulkMedium.style.boxShadow = '0 0 40px rgba(0, 100, 255, 0.6)';

            // ØªØ£Ø«ÙŠØ± Ø§Ù„Ù…Ø³ØªØ´Ø¹Ø±
            boundarySensor.style.transform = 'scale(1.1)';
            boundarySensor.style.boxShadow = '0 0 30px rgba(46, 204, 113, 0.6)';
            boundarySensor.innerHTML = '<i class="fas fa-wifi fa-spin"></i> ğŸ“¡ ÙŠØ¬Ù…Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...';

            setTimeout(() => {
                // Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ£Ø«ÙŠØ±Ø§Øª
                laserBeam.style.transform = 'scaleX(1)';
                laserBeam.style.boxShadow = '0 0 20px rgba(255, 0, 0, 0.5)';
                bulkMedium.style.transform = 'scale(1)';
                bulkMedium.style.boxShadow = '0 0 20px rgba(0, 100, 255, 0.3)';
                boundarySensor.style.transform = 'scale(1)';
                boundarySensor.style.boxShadow = '0 0 20px rgba(46, 204, 113, 0.3)';
                boundarySensor.innerHTML = '<i class="fas fa-wifi"></i> âœ… Ø§ÙƒØªÙ…Ù„ Ø§Ù„Ø¬Ù…Ø¹';

            }, 2000);
        }

        // Ø­Ø³Ø§Ø¨ Ø§Ù„Ù†ØªØ§Ø¦Ø¬
        function calculateResults() {
            const laserPower = parseInt(laserPowerSlider.value);
            const entropy = parseInt(mediumEntropySlider.value);
            const scrambleTime = parseInt(scrambleTimeSlider.value);
            const noise = parseInt(noiseLevelSlider.value);

            // Ø­Ø³Ø§Ø¨ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ù…Ø¹Ø§Ø¯Ù„Ø§Øª Ø§Ù„Ø¨Ø­Ø«
            const bulkVisibility = 4.2 * Math.exp(-entropy/100 * 2) * (1 - noise/100 * 0.3);
            const boundaryCorrelation = 0.98 * Math.exp(-noise/100 * 0.8) * (1 + entropy/100 * 0.1);
            const recoveryFidelity = 99.1 * Math.exp(-noise/100 * 0.4 - entropy/100 * 0.3);
            const lyapunovExponent = 0.42 * (entropy/100) * (scrambleTime/500);

            // ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù†ØªØ§Ø¦Ø¬
            experimentResults = {
                laserPower,
                entropy,
                scrambleTime,
                noise,
                bulkVisibility,
                boundaryCorrelation,
                recoveryFidelity,
                lyapunovExponent,
                timestamp: new Date().toISOString()
            };

            // ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
            updateResultsDisplay();

            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ ØªÙŠØ§Ø± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            dataStreamContent.innerHTML = `
                âœ… Ø§ÙƒØªÙ…Ù„Øª Ø§Ù„ØªØ¬Ø±Ø¨Ø©<br>
                ğŸ“Š Ø§Ù„Ù†ØªØ§Ø¦Ø¬: Ø±Ø¤ÙŠØ© ${bulkVisibility.toFixed(1)}% | Ø§Ø±ØªØ¨Ø§Ø· ${boundaryCorrelation.toFixed(2)} | Ø¯Ù‚Ø© ${recoveryFidelity.toFixed(1)}%
            `;

            showNotification(`Ø§ÙƒØªÙ…Ù„Øª Ø§Ù„ØªØ¬Ø±Ø¨Ø© Ø¨Ù†Ø¬Ø§Ø­! Ø§Ù„Ø¯Ù‚Ø©: ${recoveryFidelity.toFixed(1)}%`);
        }

        // ØªØ­Ø¯ÙŠØ« Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬
        function updateResultsDisplay() {
            if (!experimentResults) return;

            document.getElementById('bulk-visibility').textContent =
                experimentResults.bulkVisibility.toFixed(1);
            document.getElementById('boundary-correlation').textContent =
                experimentResults.boundaryCorrelation.toFixed(2);
            document.getElementById('recovery-fidelity').textContent =
                experimentResults.recoveryFidelity.toFixed(1);
            document.getElementById('lyapunov-exponent').textContent =
                experimentResults.lyapunovExponent.toFixed(2);
        }

        // ØªØ´ØºÙŠÙ„ Ø§Ù„ØªØ¬Ø±Ø¨Ø©
        function runExperiment() {
            showLoading('Ø¬Ø§Ø±ÙŠ ØªØ´ØºÙŠÙ„ Ø§Ù„ØªØ¬Ø±Ø¨Ø©...');

            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©
            document.getElementById('bulk-visibility').textContent = '0.0';
            document.getElementById('boundary-correlation').textContent = '0.00';
            document.getElementById('recovery-fidelity').textContent = '0.0';
            document.getElementById('lyapunov-exponent').textContent = '0.00';

            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„ØªØµÙˆØ± Ø§Ù„Ù…Ø±Ø¦ÙŠ
            const laserBeam = document.getElementById('laser-beam');
            const bulkMedium = document.getElementById('bulk-medium');
            const boundarySensor = document.getElementById('boundary-sensor');

            laserBeam.style.transform = 'scaleX(1)';
            bulkMedium.style.transform = 'scale(1)';
            boundarySensor.style.transform = 'scale(1)';

            setTimeout(() => {
                simulateExperimentSteps();

                setTimeout(() => {
                    calculateResults();
                    hideLoading();
                }, 2500);
            }, 1000);
        }

        // ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
        async function analyzeResults() {
            if (!apiKey) {
                showNotification('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ù…ÙØªØ§Ø­ OpenRouter API Ø£ÙˆÙ„Ø§Ù‹');
                return;
            }

            if (!experimentResults) {
                showNotification('Ø§Ù„Ø±Ø¬Ø§Ø¡ ØªØ´ØºÙŠÙ„ ØªØ¬Ø±Ø¨Ø© Ø£ÙˆÙ„Ø§Ù‹');
                return;
            }

            const prompt = `Ø£Ù†Øª Ù…Ø­Ù„Ù„ Ù…Ø®ØªØ¨Ø± OBD Ù…ØªØ®ØµØµ. Ù‚Ù… Ø¨ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„ØªØ§Ù„ÙŠØ©:

Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ø§Ù„ØªØ¬Ø±Ø¨Ø©:
- Ù‚ÙˆØ© Ø§Ù„Ù„ÙŠØ²Ø±: ${experimentResults.laserPower} Ù…ÙŠØ¬Ø§ÙˆØ§Øª
- Ø¥Ù†ØªØ±ÙˆØ¨ÙŠØ§ Ø§Ù„ÙˆØ³Ø·: ${experimentResults.entropy}%
- Ø²Ù…Ù† Ø§Ù„ØªØ´ØªÙŠØª: ${experimentResults.scrambleTime} Ù…Ù„ÙŠ Ø«Ø§Ù†ÙŠØ©
- Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø¶ÙˆØ¶Ø§Ø¡: ${experimentResults.noise} Ø¯ÙŠØ³ÙŠØ¨Ù„

Ø§Ù„Ù†ØªØ§Ø¦Ø¬:
- Ø±Ø¤ÙŠØ© Ø§Ù„Ø¯Ø§Ø®Ù„ (Bulk Visibility): ${experimentResults.bulkVisibility.toFixed(2)}%
- Ø§Ø±ØªØ¨Ø§Ø· Ø§Ù„Ø­Ø¯ÙˆØ¯ (Boundary Correlation): ${experimentResults.boundaryCorrelation.toFixed(3)}
- Ø¯Ù‚Ø© Ø§Ù„Ø§Ø³ØªØ±Ø¯Ø§Ø¯ (Recovery Fidelity): ${experimentResults.recoveryFidelity.toFixed(2)}%
- Ø£Ø³ Ù„ÙŠØ§Ø¨Ø§Ù†ÙˆÙ (Lyapunov Exponent): ${experimentResults.lyapunovExponent.toFixed(3)}

Ø­Ù„Ù„ Ù‡Ø°Ù‡ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ù…Ù† Ø­ÙŠØ«:
1. ÙØ¹Ø§Ù„ÙŠØ© Ø¹Ù…Ù„ÙŠØ© "Ø§Ù„Ù…ÙˆØª Ø§Ù„Ø¹Ù…Ù„ÙŠ" Ù„Ù„Ø¯Ø§Ø®Ù„
2. Ø¬ÙˆØ¯Ø© Ù‡Ø¬Ø±Ø© Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø¯ÙˆØ¯
3. ØªØ£Ø«ÙŠØ± Ø§Ù„Ø¶ÙˆØ¶Ø§Ø¡ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø¯Ø§Ø¡
4. Ù…Ù‚Ø§Ø±Ù†Ø© Ù…Ø¹ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù…Ø«Ù„Ù‰ ÙÙŠ Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø£ØµÙ„ÙŠ
5. ØªÙˆØµÙŠØ§Øª Ù„ØªØ­Ø³ÙŠÙ† Ø§Ù„ØªØ¬Ø±Ø¨Ø©

Ø£Ø¬Ø¨ Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© ÙˆØ¨Ø£Ø³Ù„ÙˆØ¨ Ø¹Ù„Ù…ÙŠ ÙˆØ§Ø¶Ø­.`;

            askAI(prompt);
        }

        // ØªÙˆÙ„ÙŠØ¯ ØªÙ‚Ø±ÙŠØ± Ù…ÙØµÙ„
        function generateReport() {
            if (!experimentResults) {
                showNotification('Ø§Ù„Ø±Ø¬Ø§Ø¡ ØªØ´ØºÙŠÙ„ ØªØ¬Ø±Ø¨Ø© Ø£ÙˆÙ„Ø§Ù‹');
                return;
            }

            showLoading('Ø¬Ø§Ø±ÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªÙ‚Ø±ÙŠØ±...');

            // Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø«Ø§Ø¨Øª (Ø¨Ø¯ÙˆÙ† Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ)
            const reportContent = `
                <h2>ğŸ“Š ØªØ­Ù„ÙŠÙ„ Ù†ØªØ§Ø¦Ø¬ ØªØ¬Ø±Ø¨Ø© OBD</h2>
                <p>ØªÙ… Ø¥Ø¬Ø±Ø§Ø¡ Ù‡Ø°Ù‡ Ø§Ù„ØªØ¬Ø±Ø¨Ø© ÙÙŠ Ù…Ø®ØªØ¨Ø± OBD Ø§Ù„Ù…ØªÙ‚Ø¯Ù… ØªØ­Øª Ø¥Ø´Ø±Ø§Ù Ø§Ù„Ø¨Ø§Ø­Ø« <strong>Ammar Nasir Hussein al-mantafji</strong>.</p>

                <h3>ğŸ”¬ Ù…Ù„Ø®Øµ Ø§Ù„Ù†ØªØ§Ø¦Ø¬:</h3>
                <p>1. <strong>Ø±Ø¤ÙŠØ© Ø§Ù„Ø¯Ø§Ø®Ù„ (${experimentResults.bulkVisibility.toFixed(2)}%):</strong> ØªØ´ÙŠØ± Ù‡Ø°Ù‡ Ø§Ù„Ù†Ø³Ø¨Ø© Ø§Ù„Ù…Ù†Ø®ÙØ¶Ø© Ø¥Ù„Ù‰ Ù†Ø¬Ø§Ø­ Ø¹Ù…Ù„ÙŠØ© "Ø§Ù„Ù…ÙˆØª Ø§Ù„Ø¹Ù…Ù„ÙŠ" Ù„Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª ÙÙŠ Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠØ© (Bulk)ØŒ Ù…Ù…Ø§ ÙŠØ¹Ù†ÙŠ Ø£Ù† Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ù‚Ø¯ ØªÙ… ØªØ´ÙÙŠØ±Ù‡Ø§ Ø¨Ø´ÙƒÙ„ ÙØ¹Ø§Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ø­Ø¯ÙˆØ¯.</p>

                <p>2. <strong>Ø§Ø±ØªØ¨Ø§Ø· Ø§Ù„Ø­Ø¯ÙˆØ¯ (${experimentResults.boundaryCorrelation.toFixed(3)}):</strong> Ù‡Ø°Ù‡ Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù‚Ø±ÙŠØ¨Ø© Ù…Ù† 1 ØªØ¯Ù„ Ø¹Ù„Ù‰ ÙƒÙØ§Ø¡Ø© Ø¹Ø§Ù„ÙŠØ© ÙÙŠ Ù†Ù‚Ù„ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ù…Ù† Ø§Ù„Ø¯Ø§Ø®Ù„ Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø¯ÙˆØ¯ Ù…Ø¹ Ø§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª Ø§Ù„Ø³Ø¨Ø¨ÙŠØ© ÙˆØ§Ù„Ù‡ÙŠÙƒÙ„ÙŠØ©.</p>

                <p>3. <strong>Ø¯Ù‚Ø© Ø§Ù„Ø§Ø³ØªØ±Ø¯Ø§Ø¯ (${experimentResults.recoveryFidelity.toFixed(2)}%):</strong> Ù‡Ø°Ù‡ Ø§Ù„Ù†Ø³Ø¨Ø© Ø§Ù„Ø¹Ø§Ù„ÙŠØ© ØªØ¹ÙƒØ³ Ø¬ÙˆØ¯Ø© Ø¹Ù…Ù„ÙŠØ© ÙÙƒ Ø§Ù„ØªØ´ÙÙŠØ± Ù…Ù† Ø§Ù„Ø­Ø¯ÙˆØ¯ ÙˆØªØ­Ø§ÙØ¸ Ø¹Ù„Ù‰ Ø³Ù„Ø§Ù…Ø© Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø±ØºÙ… Ø¹Ù…Ù„ÙŠØ© Ø§Ù„ØªØ´ØªÙŠØª Ø§Ù„Ù…Ø¹Ù‚Ø¯Ø©.</p>

                <p>4. <strong>Ø£Ø³ Ù„ÙŠØ§Ø¨Ø§Ù†ÙˆÙ (${experimentResults.lyapunovExponent.toFixed(3)}):</strong> Ù‡Ø°Ù‡ Ø§Ù„Ù‚ÙŠÙ…Ø© ØªØ´ÙŠØ± Ø¥Ù„Ù‰ Ù…Ø¹Ø¯Ù„ Ù†Ù…Ùˆ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù… ÙˆØªØ¹ÙƒØ³ ØªÙˆØ§Ø²Ù†Ù‹Ø§ Ø¨ÙŠÙ† Ø§Ø³ØªÙ‚Ø±Ø§Ø± Ø§Ù„Ù†Ø¸Ø§Ù… ÙˆÙ‚Ø¯Ø±ØªÙ‡ Ø¹Ù„Ù‰ ØªØ´ÙÙŠØ± Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¨Ø´ÙƒÙ„ Ø¢Ù…Ù†.</p>

                <h3>âš™ï¸ ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª:</h3>
                <p>â€¢ <strong>Ù‚ÙˆØ© Ø§Ù„Ù„ÙŠØ²Ø± (${experimentResults.laserPower} Ù…ÙŠØ¬Ø§ÙˆØ§Øª):</strong> ÙƒØ§Ù†Øª ÙƒØ§ÙÙŠØ© Ù„Ø¨Ø¯Ø¡ Ø¹Ù…Ù„ÙŠØ© Ø§Ù„ØªØ´ÙÙŠØ± Ø¯ÙˆÙ† Ø¥Ø­Ø¯Ø§Ø« ØªØ´ÙˆÙŠØ´ Ø²Ø§Ø¦Ø¯.</p>
                <p>â€¢ <strong>Ø¥Ù†ØªØ±ÙˆØ¨ÙŠØ§ Ø§Ù„ÙˆØ³Ø· (${experimentResults.entropy}%):</strong> Ø³Ø§Ù‡Ù…Øª ÙÙŠ Ø¹Ù…Ù„ÙŠØ© Ø§Ù„ØªØ´ØªÙŠØª Ø§Ù„ÙØ¹Ø§Ù„Ø© Ù„Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª.</p>
                <p>â€¢ <strong>Ø²Ù…Ù† Ø§Ù„ØªØ´ØªÙŠØª (${experimentResults.scrambleTime} Ù…Ù„ÙŠ Ø«Ø§Ù†ÙŠØ©):</strong> ÙƒØ§Ù† Ù…Ù†Ø§Ø³Ø¨Ù‹Ø§ Ù„ØªØ­Ù‚ÙŠÙ‚ Ø§Ù„ØªÙˆØ§Ø²Ù† Ø¨ÙŠÙ† Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ© ÙˆØ§Ù„ÙƒÙØ§Ø¡Ø©.</p>
                <p>â€¢ <strong>Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø¶ÙˆØ¶Ø§Ø¡ (${experimentResults.noise} Ø¯ÙŠØ³ÙŠØ¨Ù„):</strong> ÙƒØ§Ù† Ø¶Ù…Ù† Ø§Ù„Ø­Ø¯ÙˆØ¯ Ø§Ù„Ù…Ù‚Ø¨ÙˆÙ„Ø© ÙˆÙ„Ù… ÙŠØ¤Ø«Ø± Ø¨Ø´ÙƒÙ„ ÙƒØ¨ÙŠØ± Ø¹Ù„Ù‰ Ø¯Ù‚Ø© Ø§Ù„Ù†ØªØ§Ø¦Ø¬.</p>

                <h3>ğŸ“ˆ Ø§Ù„ØªÙˆØµÙŠØ§Øª:</h3>
                <p>1. Ø²ÙŠØ§Ø¯Ø© Ø¥Ù†ØªØ±ÙˆØ¨ÙŠØ§ Ø§Ù„ÙˆØ³Ø· Ù„ØªØ­Ø³ÙŠÙ† Ø¹Ù…Ù„ÙŠØ© Ø§Ù„ØªØ´ØªÙŠØª.</p>
                <p>2. ØªÙ‚Ù„ÙŠÙ„ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø¶ÙˆØ¶Ø§Ø¡ Ø§Ù„Ø¨ÙŠØ¦ÙŠØ© Ù„Ø²ÙŠØ§Ø¯Ø© Ø¯Ù‚Ø© Ø§Ù„Ø§Ø³ØªØ±Ø¯Ø§Ø¯.</p>
                <p>3. Ø¶Ø¨Ø· Ø²Ù…Ù† Ø§Ù„ØªØ´ØªÙŠØª Ù„ØªØ­Ù‚ÙŠÙ‚ Ø£ÙØ¶Ù„ ØªÙˆØ§Ø²Ù† Ø¨ÙŠÙ† Ø§Ù„Ø³Ø±Ø¹Ø© ÙˆØ§Ù„Ø¯Ù‚Ø©.</p>
                <p>4. Ø¥Ø¬Ø±Ø§Ø¡ ØªØ¬Ø§Ø±Ø¨ Ù…ØªÙƒØ±Ø±Ø© Ù„Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø«Ø¨Ø§Øª Ø§Ù„Ù†ØªØ§Ø¦Ø¬.</p>

                <h3>ğŸ”— Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹ Ø§Ù„Ø¹Ù„Ù…ÙŠØ©:</h3>
                <p>1. Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø£ØµÙ„ÙŠ: OBD_New29_1_2026.pdf - Observable Boundary Dynamics</p>
                <p>2. Ø£Ø¨Ø­Ø§Ø« ÙÙŠØ²ÙŠØ§Ø¡ Ø§Ù„ÙƒÙ… ÙˆØ§Ù„Ù‡ÙˆÙ„ÙˆØºØ±Ø§ÙÙŠØ§</p>
                <p>3. Ø¯Ø±Ø§Ø³Ø§Øª ÙÙŠ Ø£Ù†Ø¸Ù…Ø© Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ÙƒÙ…ÙˆÙ…ÙŠØ©</p>
            `;

            // Ø¥Ù†Ø´Ø§Ø¡ HTML Ù„Ù„ØªÙ‚Ø±ÙŠØ±
            const reportHTML = `
                <!DOCTYPE html>
                <html dir="rtl" lang="ar">
                <head>
                    <meta charset="UTF-8">
                    <meta name="viewport" content="width=device-width, initial-scale=1.0">
                    <title>ØªÙ‚Ø±ÙŠØ± Ù…Ø®ØªØ¨Ø± OBD</title>
                    <style>
                        * {
                            margin: 0;
                            padding: 0;
                            box-sizing: border-box;
                            font-family: 'Segoe UI', 'Arial', sans-serif;
                        }

                        body {
                            background: #f0f5ff;
                            color: #333;
                            line-height: 1.8;
                            padding: 20px;
                        }

                        .report-container {
                            max-width: 1200px;
                            margin: 0 auto;
                            background: white;
                            border-radius: 15px;
                            box-shadow: 0 10px 30px rgba(0, 50, 150, 0.2);
                            overflow: hidden;
                        }

                        .header {
                            background: linear-gradient(135deg, #0066ff, #0044cc);
                            color: white;
                            padding: 40px;
                            text-align: center;
                        }

                        .header h1 {
                            font-size: 2.5rem;
                            margin-bottom: 15px;
                            text-shadow: 0 2px 10px rgba(0,0,0,0.2);
                        }

                        .header p {
                            font-size: 1.2rem;
                            opacity: 0.9;
                        }

                        .summary-grid {
                            display: grid;
                            grid-template-columns: repeat(2, 1fr);
                            gap: 20px;
                            padding: 30px;
                            background: #f8f9fa;
                        }

                        .summary-card {
                            background: white;
                            padding: 25px;
                            border-radius: 10px;
                            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
                            text-align: center;
                            border-left: 5px solid #0066ff;
                            transition: transform 0.3s ease;
                        }

                        .summary-card:hover {
                            transform: translateY(-5px);
                        }

                        .summary-card h3 {
                            color: #0066ff;
                            margin-bottom: 15px;
                            font-size: 1.3rem;
                        }

                        .summary-card .value {
                            font-size: 2.5rem;
                            font-weight: bold;
                            color: #333;
                            margin: 10px 0;
                        }

                        .summary-card .unit {
                            color: #666;
                            font-size: 1rem;
                        }

                        .parameters-table {
                            width: calc(100% - 60px);
                            border-collapse: collapse;
                            margin: 30px;
                            background: white;
                            border-radius: 10px;
                            overflow: hidden;
                            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
                        }

                        .parameters-table th {
                            background: #0066ff;
                            color: white;
                            padding: 18px;
                            text-align: right;
                            font-weight: 600;
                        }

                        .parameters-table td {
                            padding: 15px 20px;
                            border-bottom: 1px solid #eee;
                            text-align: center;
                        }

                        .parameters-table tr:hover {
                            background: #f8f9fa;
                        }

                        .report-content {
                            padding: 40px;
                        }

                        .report-content h2 {
                            color: #0066ff;
                            font-size: 1.8rem;
                            margin: 30px 0 20px;
                            padding-bottom: 10px;
                            border-bottom: 2px solid #e9ecef;
                        }

                        .report-content h3 {
                            color: #00a8ff;
                            font-size: 1.5rem;
                            margin: 25px 0 15px;
                        }

                        .report-content p {
                            font-size: 1.1rem;
                            line-height: 1.9;
                            color: #444;
                            margin-bottom: 15px;
                            text-align: justify;
                        }

                        .footer {
                            background: #f8f9fa;
                            padding: 30px;
                            text-align: center;
                            color: #666;
                            border-top: 1px solid #dee2e6;
                        }

                        .footer .researcher {
                            font-size: 1.3rem;
                            color: #0066ff;
                            font-weight: bold;
                            margin: 10px 0;
                        }

                        @media print {
                            body {
                                padding: 0;
                            }

                            .report-container {
                                box-shadow: none;
                                border-radius: 0;
                            }

                            .summary-card {
                                break-inside: avoid;
                            }
                        }

                        @media (max-width: 768px) {
                            .summary-grid {
                                grid-template-columns: 1fr;
                            }

                            .header h1 {
                                font-size: 2rem;
                            }

                            .report-content {
                                padding: 20px;
                            }

                            .parameters-table {
                                width: calc(100% - 20px);
                                margin: 20px 10px;
                            }
                        }
                    </style>
                </head>
                <body>
                    <div class="report-container">
                        <div class="header">
                            <h1><i class="fas fa-flask"></i> ØªÙ‚Ø±ÙŠØ± Ù…Ø®ØªØ¨Ø± OBD Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ</h1>
                            <p>ØªØ¬Ø±Ø¨Ø© Observable Boundary Dynamics</p>
                            <p style="margin-top: 15px; opacity: 0.8;">
                                Ø§Ù„ØªØ§Ø±ÙŠØ®: ${new Date().toLocaleDateString('ar-SA')} - Ø§Ù„ÙˆÙ‚Øª: ${new Date().toLocaleTimeString('ar-SA')}
                            </p>
                        </div>

                        <div class="summary-grid">
                            <div class="summary-card">
                                <h3><i class="fas fa-eye"></i> Ø±Ø¤ÙŠØ© Ø§Ù„Ø¯Ø§Ø®Ù„</h3>
                                <div class="value">${experimentResults.bulkVisibility.toFixed(2)}</div>
                                <div class="unit">Ù†Ø³Ø¨Ø© Ù…Ø¦ÙˆÙŠØ©</div>
                            </div>

                            <div class="summary-card">
                                <h3><i class="fas fa-link"></i> Ø§Ø±ØªØ¨Ø§Ø· Ø§Ù„Ø­Ø¯ÙˆØ¯</h3>
                                <div class="value">${experimentResults.boundaryCorrelation.toFixed(3)}</div>
                                <div class="unit">Ù…Ø¹Ø§Ù…Ù„ Ø§Ø±ØªØ¨Ø§Ø·</div>
                            </div>

                            <div class="summary-card">
                                <h3><i class="fas fa-bullseye"></i> Ø¯Ù‚Ø© Ø§Ù„Ø§Ø³ØªØ±Ø¯Ø§Ø¯</h3>
                                <div class="value">${experimentResults.recoveryFidelity.toFixed(2)}</div>
                                <div class="unit">Ù†Ø³Ø¨Ø© Ù…Ø¦ÙˆÙŠØ©</div>
                            </div>

                            <div class="summary-card">
                                <h3><i class="fas fa-bolt"></i> Ø£Ø³ Ù„ÙŠØ§Ø¨Ø§Ù†ÙˆÙ</h3>
                                <div class="value">${experimentResults.lyapunovExponent.toFixed(3)}</div>
                                <div class="unit">Î»<sub>L</sub></div>
                            </div>
                        </div>

                        <table class="parameters-table">
                            <thead>
                                <tr>
                                    <th colspan="3"><i class="fas fa-sliders-h"></i> Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ø§Ù„ØªØ¬Ø±Ø¨Ø©</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Ù‚ÙˆØ© Ø§Ù„Ù„ÙŠØ²Ø±</td>
                                    <td>${experimentResults.laserPower}</td>
                                    <td>Ù…ÙŠØ¬Ø§ÙˆØ§Øª</td>
                                </tr>
                                <tr>
                                    <td>Ø¥Ù†ØªØ±ÙˆØ¨ÙŠØ§ Ø§Ù„ÙˆØ³Ø·</td>
                                    <td>${experimentResults.entropy}</td>
                                    <td>%</td>
                                </tr>
                                <tr>
                                    <td>Ø²Ù…Ù† Ø§Ù„ØªØ´ØªÙŠØª</td>
                                    <td>${experimentResults.scrambleTime}</td>
                                    <td>Ù…Ù„ÙŠ Ø«Ø§Ù†ÙŠØ©</td>
                                </tr>
                                <tr>
                                    <td>Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø¶ÙˆØ¶Ø§Ø¡</td>
                                    <td>${experimentResults.noise}</td>
                                    <td>Ø¯ÙŠØ³ÙŠØ¨Ù„</td>
                                </tr>
                            </tbody>
                        </table>

                        <div class="report-content">
                            ${reportContent}
                        </div>

                        <div class="footer">
                            <p>ØªÙ… Ø¥Ø¹Ø¯Ø§Ø¯ Ù‡Ø°Ø§ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø¨ÙˆØ§Ø³Ø·Ø© Ù†Ø¸Ø§Ù… Ù…Ø®ØªØ¨Ø± OBD Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…</p>
                            <p class="researcher">Ø§Ù„Ø¨Ø§Ø­Ø« Ø§Ù„Ù…Ø´Ø±Ù: Ammar Nasir Hussein al-mantafji</p>
                            <p style="margin-top: 20px;">
                                <i class="fas fa-calendar"></i> ${new Date().toLocaleString('ar-SA')}
                            </p>
                            <p style="margin-top: 10px; font-size: 0.9rem; color: #888;">
                                Â© 2026 Ù…Ø®ØªØ¨Ø± OBD Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ - Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©
                            </p>
                        </div>
                    </div>

                    <script>
                        // Ø¥Ø¶Ø§ÙØ© ÙˆØ¸ÙŠÙØ© Ø§Ù„Ø·Ø¨Ø§Ø¹Ø©
                        window.onload = function() {
                            setTimeout(() => {
                                // ÙŠÙ…ÙƒÙ† ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ© Ø¥Ø°Ø§ Ø±ØºØ¨ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
                                // window.print();
                            }, 1000);
                        };
                    </script>
                </body>
                </html>
            `;

            // Ù…Ø­Ø§ÙˆÙ„Ø© ÙØªØ­ Ø§Ù„ØªÙ‚Ø±ÙŠØ± ÙÙŠ Ù†Ø§ÙØ°Ø© Ø¬Ø¯ÙŠØ¯Ø©
            try {
                const reportWindow = window.open('', '_blank', 'width=1200,height=800,scrollbars=yes');
                if (reportWindow) {
                    reportWindow.document.write(reportHTML);
                    reportWindow.document.close();

                    hideLoading();
                    showNotification('âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø¨Ù†Ø¬Ø§Ø­!');
                } else {
                    hideLoading();
                    showNotification('âŒ ØªØ¹Ø°Ø± ÙØªØ­ Ù†Ø§ÙØ°Ø© Ø§Ù„ØªÙ‚Ø±ÙŠØ±. Ù‚Ø¯ ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„Ù†ÙˆØ§ÙØ° Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø©.');
                }
            } catch (error) {
                hideLoading();
                console.error('Ø®Ø·Ø£ ÙÙŠ ÙØªØ­ Ø§Ù„ØªÙ‚Ø±ÙŠØ±:', error);
                showNotification('âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªÙ‚Ø±ÙŠØ±. Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.');
            }
        }

        // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„ØªØ¬Ø±Ø¨Ø©
        function resetExperiment() {
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù…Ù†Ø²Ù„Ù‚Ø§Øª
            laserPowerSlider.value = 50;
            mediumEntropySlider.value = 75;
            scrambleTimeSlider.value = 500;
            noiseLevelSlider.value = 25;

            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø±ÙˆØ¶
            laserPowerValue.textContent = '50';
            entropyValue.textContent = '75';
            timeValue.textContent = '500';
            noiseValue.textContent = '25';

            // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØµÙˆØ± Ø§Ù„Ù…Ø±Ø¦ÙŠ
            updateVisualization();

            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù†ØªØ§Ø¦Ø¬
            document.getElementById('bulk-visibility').textContent = '0.0';
            document.getElementById('boundary-correlation').textContent = '0.00';
            document.getElementById('recovery-fidelity').textContent = '0.0';
            document.getElementById('lyapunov-exponent').textContent = '0.00';

            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            dataStreamContent.textContent = 'Ø¬Ø§Ø±ÙŠ Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...';
            experimentResults = null;

            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø®Ø·ÙˆØ§Øª
            updateExperimentStep(1);

            showNotification('ØªÙ… Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„ØªØ¬Ø±Ø¨Ø© Ø¨Ù†Ø¬Ø§Ø­');
        }

        // Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹ OpenRouter API
        async function callOpenRouterAPI(prompt) {
            if (!apiKey) {
                throw new Error('Ù…ÙØªØ§Ø­ API ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯');
            }

            try {
                const response = await axios.post(
                    'https://openrouter.ai/api/v1/chat/completions',
                    {
                        model: aiModel,
                        messages: [
                            {
                                role: "system",
                                content: `Ø£Ù†Øª Ù…Ø³Ø§Ø¹Ø¯ Ù…Ø®ØªØ¨Ø± OBD Ù…ØªØ®ØµØµ ÙÙŠ Ø§Ù„ÙÙŠØ²ÙŠØ§Ø¡ Ø§Ù„ÙƒÙ…ÙˆÙ…ÙŠØ© ÙˆØ§Ù„ØªØ´ÙÙŠØ± Ø§Ù„Ù‡ÙˆÙ„ÙˆØºØ±Ø§ÙÙŠ.
Ø£Ù†Øª ØªØ³Ø§Ø¹Ø¯ Ø§Ù„Ø¨Ø§Ø­Ø« Ammar Nasir Hussein al-mantafji ÙÙŠ ØªØ­Ù„ÙŠÙ„ Ù†ØªØ§Ø¦Ø¬ ØªØ¬Ø§Ø±Ø¨ Observable Boundary Dynamics.
Ø£Ø¬Ø¨ Ø¯Ø§Ø¦Ù…Ø§Ù‹ Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© ÙˆØ¨Ø£Ø³Ù„ÙˆØ¨ Ø¹Ù„Ù…ÙŠ Ø¯Ù‚ÙŠÙ‚.
Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø§Øª ÙˆØ§Ù„Ù…ØµØ·Ù„Ø­Ø§Øª Ø§Ù„ÙÙ†ÙŠØ© Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©.`
                            },
                            {
                                role: "user",
                                content: prompt
                            }
                        ],
                        temperature: 0.7,
                        max_tokens: 3000
                    },
                    {
                        headers: {
                            'Authorization': `Bearer ${apiKey}`,
                            'Content-Type': 'application/json',
                            'HTTP-Referer': window.location.origin,
                            'X-Title': 'OBD Laboratory AI Assistant'
                        }
                    }
                );

                return response.data.choices[0].message.content;
            } catch (error) {
                console.error('OpenRouter Error:', error);
                throw new Error(`ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„: ${error.response?.data?.error?.message || error.message}`);
            }
        }

        // Ø·Ø±Ø­ Ø³Ø¤Ø§Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
        async function askAI(prompt) {
            if (!apiKey) {
                showNotification('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ù…ÙØªØ§Ø­ OpenRouter API Ø£ÙˆÙ„Ø§Ù‹');
                return;
            }

            // Ø¥Ø¶Ø§ÙØ© Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
            addUserMessage(prompt);

            // Ø¥Ø¶Ø§ÙØ© Ù…Ø¤Ø´Ø± Ø§Ù„ÙƒØªØ§Ø¨Ø©
            addTypingIndicator();

            try {
                const response = await callOpenRouterAPI(prompt);

                // Ø¥Ø²Ø§Ù„Ø© Ù…Ø¤Ø´Ø± Ø§Ù„ÙƒØªØ§Ø¨Ø©
                removeTypingIndicator();

                // Ø¥Ø¶Ø§ÙØ© Ø±Ø¯ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
                addAIMessage(response);

                // ØªØ­Ø¯ÙŠØ« Ø³Ø¬Ù„ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©
                chatHistory.push({ role: "user", content: prompt });
                chatHistory.push({ role: "assistant", content: response });

                // Ø§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ø­Ø¬Ù… Ù…Ø¹Ù‚ÙˆÙ„ Ù„Ù„Ø³Ø¬Ù„
                if (chatHistory.length > 10) {
                    chatHistory = chatHistory.slice(-10);
                }

            } catch (error) {
                removeTypingIndicator();
                addAIMessage(`âŒ Ø®Ø·Ø£: ${error.message}`);
                showNotification('ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ');
            }
        }

        // Ø¥Ø¶Ø§ÙØ© Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        function addUserMessage(content) {
            const messageDiv = document.createElement('div');
            messageDiv.className = 'analysis-message message-user';
            messageDiv.innerHTML = `
                <div class="message-header user-message-header">
                    <i class="fas fa-user"></i>
                    Ø£Ù†Øª
                </div>
                <div class="message-content">${content}</div>
            `;
            aiAnalysisContent.appendChild(messageDiv);
            aiAnalysisContent.scrollTop = aiAnalysisContent.scrollHeight;
        }

        // Ø¥Ø¶Ø§ÙØ© Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
        function addAIMessage(content) {
            const messageDiv = document.createElement('div');
            messageDiv.className = 'analysis-message message-ai';
            messageDiv.innerHTML = `
                <div class="message-header ai-message-header">
                    <i class="fas fa-robot"></i>
                    Ù…Ø­Ù„Ù„ OBD Ø§Ù„Ø°ÙƒÙŠ
                </div>
                <div class="message-content">${content}</div>
            `;
            aiAnalysisContent.appendChild(messageDiv);
            aiAnalysisContent.scrollTop = aiAnalysisContent.scrollHeight;
        }

        // Ø¥Ø¶Ø§ÙØ© Ù…Ø¤Ø´Ø± Ø§Ù„ÙƒØªØ§Ø¨Ø©
        function addTypingIndicator() {
            const typingDiv = document.createElement('div');
            typingDiv.className = 'typing-indicator';
            typingDiv.id = 'typing-indicator';
            typingDiv.innerHTML = `
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
                <span>Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù„ÙŠÙ„...</span>
            `;
            aiAnalysisContent.appendChild(typingDiv);
            aiAnalysisContent.scrollTop = aiAnalysisContent.scrollHeight;
        }

        // Ø¥Ø²Ø§Ù„Ø© Ù…Ø¤Ø´Ø± Ø§Ù„ÙƒØªØ§Ø¨Ø©
        function removeTypingIndicator() {
            const typingIndicator = document.getElementById('typing-indicator');
            if (typingIndicator) {
                typingIndicator.remove();
            }
        }

        // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
        function showNotification(message) {
            // Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù†ØµØ± Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                left: 50%;
                transform: translateX(-50%);
                background: linear-gradient(135deg, #0066ff, #0044cc);
                color: white;
                padding: 15px 30px;
                border-radius: 10px;
                box-shadow: 0 5px 20px rgba(0, 102, 255, 0.3);
                z-index: 1000;
                font-weight: 600;
                animation: slideIn 0.3s ease;
            `;

            notification.textContent = message;
            document.body.appendChild(notification);

            // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø± Ø¨Ø¹Ø¯ 3 Ø«ÙˆØ§Ù†Ù
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }

        // Ø¥Ø¶Ø§ÙØ© Ø£Ù†Ù…Ø§Ø· CSS Ù„Ù„ØªØ­Ø±ÙŠÙƒ
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from { top: -100px; opacity: 0; }
                to { top: 20px; opacity: 1; }
            }
            @keyframes slideOut {
                from { top: 20px; opacity: 1; }
                to { top: -100px; opacity: 0; }
            }
        `;
        document.head.appendChild(style);

        // ØªØ­Ø¯ÙŠØ« ØªÙŠØ§Ø± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø´ÙƒÙ„ Ø¯ÙˆØ±ÙŠ
        setInterval(updateDataStream, 2000);

        // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØµÙˆØ± Ø§Ù„Ù…Ø±Ø¦ÙŠ Ø¨Ø´ÙƒÙ„ Ø¯ÙˆØ±ÙŠ
        setInterval(updateVisualization, 1000);
    </script>
</body>
</html>
